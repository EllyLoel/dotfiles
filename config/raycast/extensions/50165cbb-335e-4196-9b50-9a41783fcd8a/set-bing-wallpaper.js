"use strict";var Rm=Object.create;var In=Object.defineProperty;var Tm=Object.getOwnPropertyDescriptor;var Pm=Object.getOwnPropertyNames;var vm=Object.getPrototypeOf,Cm=Object.prototype.hasOwnProperty;var Cr=(e,t)=>()=>(e&&(t=e(e=0)),t);var E=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ss=(e,t)=>{for(var n in t)In(e,n,{get:t[n],enumerable:!0})},us=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Pm(t))!Cm.call(e,a)&&a!==n&&In(e,a,{get:()=>t[a],enumerable:!(i=Tm(t,a))||i.enumerable});return e};var Ae=(e,t,n)=>(n=e!=null?Rm(vm(e)):{},us(t||!e||!e.__esModule?In(n,"default",{value:e,enumerable:!0}):n,e)),Am=e=>us(In({},"__esModule",{value:!0}),e);var fs=E((Bn,cs)=>{(function(e,t){typeof Bn=="object"&&typeof cs<"u"?t(Bn):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.WebStreamsPolyfill={}))})(Bn,function(e){"use strict";let t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:r=>`Symbol(${r})`;function n(){}function i(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let a=i();function s(r){return typeof r=="object"&&r!==null||typeof r=="function"}let l=n,c=Promise,d=Promise.prototype.then,y=Promise.resolve.bind(c),p=Promise.reject.bind(c);function _(r){return new c(r)}function S(r){return y(r)}function h(r){return p(r)}function g(r,o,u){return d.call(r,o,u)}function T(r,o,u){g(g(r,o,u),void 0,l)}function R(r,o){T(r,o)}function C(r,o){T(r,void 0,o)}function k(r,o,u){return g(r,o,u)}function X(r){g(r,void 0,l)}let x=(()=>{let r=a&&a.queueMicrotask;if(typeof r=="function")return r;let o=S(void 0);return u=>g(o,u)})();function $(r,o,u){if(typeof r!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(r,o,u)}function I(r,o,u){try{return S($(r,o,u))}catch(f){return h(f)}}let ce=16384;class v{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(o){let u=this._back,f=u;u._elements.length===ce-1&&(f={_elements:[],_next:void 0}),u._elements.push(o),f!==u&&(this._back=f,u._next=f),++this._size}shift(){let o=this._front,u=o,f=this._cursor,m=f+1,b=o._elements,w=b[f];return m===ce&&(u=o._next,m=0),--this._size,this._cursor=m,o!==u&&(this._front=u),b[f]=void 0,w}forEach(o){let u=this._cursor,f=this._front,m=f._elements;for(;(u!==m.length||f._next!==void 0)&&!(u===m.length&&(f=f._next,m=f._elements,u=0,m.length===0));)o(m[u]),++u}peek(){let o=this._front,u=this._cursor;return o._elements[u]}}function W(r,o){r._ownerReadableStream=o,o._reader=r,o._state==="readable"?Z(r):o._state==="closed"?ae(r):K(r,o._storedError)}function B(r,o){let u=r._ownerReadableStream;return Ie(u,o)}function M(r){r._ownerReadableStream._state==="readable"?N(r,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):pe(r,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),r._ownerReadableStream._reader=void 0,r._ownerReadableStream=void 0}function H(r){return new TypeError("Cannot "+r+" a stream using a released reader")}function Z(r){r._closedPromise=_((o,u)=>{r._closedPromise_resolve=o,r._closedPromise_reject=u})}function K(r,o){Z(r),N(r,o)}function ae(r){Z(r),J(r)}function N(r,o){r._closedPromise_reject!==void 0&&(X(r._closedPromise),r._closedPromise_reject(o),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0)}function pe(r,o){K(r,o)}function J(r){r._closedPromise_resolve!==void 0&&(r._closedPromise_resolve(void 0),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0)}let Ti=t("[[AbortSteps]]"),Xo=t("[[ErrorSteps]]"),Pi=t("[[CancelSteps]]"),vi=t("[[PullSteps]]"),Ko=Number.isFinite||function(r){return typeof r=="number"&&isFinite(r)},ed=Math.trunc||function(r){return r<0?Math.ceil(r):Math.floor(r)};function td(r){return typeof r=="object"||typeof r=="function"}function Ve(r,o){if(r!==void 0&&!td(r))throw new TypeError(`${o} is not an object.`)}function De(r,o){if(typeof r!="function")throw new TypeError(`${o} is not a function.`)}function rd(r){return typeof r=="object"&&r!==null||typeof r=="function"}function Jo(r,o){if(!rd(r))throw new TypeError(`${o} is not an object.`)}function Ye(r,o,u){if(r===void 0)throw new TypeError(`Parameter ${o} is required in '${u}'.`)}function Ci(r,o,u){if(r===void 0)throw new TypeError(`${o} is required in '${u}'.`)}function Ai(r){return Number(r)}function Zo(r){return r===0?0:r}function nd(r){return Zo(ed(r))}function ea(r,o){let f=Number.MAX_SAFE_INTEGER,m=Number(r);if(m=Zo(m),!Ko(m))throw new TypeError(`${o} is not a finite number`);if(m=nd(m),m<0||m>f)throw new TypeError(`${o} is outside the accepted range of ${0} to ${f}, inclusive`);return!Ko(m)||m===0?0:m}function ki(r,o){if(!ut(r))throw new TypeError(`${o} is not a ReadableStream.`)}function Ft(r){return new dr(r)}function ta(r,o){r._reader._readRequests.push(o)}function xi(r,o,u){let m=r._reader._readRequests.shift();u?m._closeSteps():m._chunkSteps(o)}function en(r){return r._reader._readRequests.length}function ra(r){let o=r._reader;return!(o===void 0||!it(o))}class dr{constructor(o){if(Ye(o,1,"ReadableStreamDefaultReader"),ki(o,"First parameter"),lt(o))throw new TypeError("This stream has already been locked for exclusive reading by another reader");W(this,o),this._readRequests=new v}get closed(){return it(this)?this._closedPromise:h(tn("closed"))}cancel(o=void 0){return it(this)?this._ownerReadableStream===void 0?h(H("cancel")):B(this,o):h(tn("cancel"))}read(){if(!it(this))return h(tn("read"));if(this._ownerReadableStream===void 0)return h(H("read from"));let o,u,f=_((b,w)=>{o=b,u=w});return mr(this,{_chunkSteps:b=>o({value:b,done:!1}),_closeSteps:()=>o({value:void 0,done:!0}),_errorSteps:b=>u(b)}),f}releaseLock(){if(!it(this))throw tn("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");M(this)}}}Object.defineProperties(dr.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(dr.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function it(r){return!s(r)||!Object.prototype.hasOwnProperty.call(r,"_readRequests")?!1:r instanceof dr}function mr(r,o){let u=r._ownerReadableStream;u._disturbed=!0,u._state==="closed"?o._closeSteps():u._state==="errored"?o._errorSteps(u._storedError):u._readableStreamController[vi](o)}function tn(r){return new TypeError(`ReadableStreamDefaultReader.prototype.${r} can only be used on a ReadableStreamDefaultReader`)}let na=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class ia{constructor(o,u){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=o,this._preventCancel=u}next(){let o=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?k(this._ongoingPromise,o,o):o(),this._ongoingPromise}return(o){let u=()=>this._returnSteps(o);return this._ongoingPromise?k(this._ongoingPromise,u,u):u()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let o=this._reader;if(o._ownerReadableStream===void 0)return h(H("iterate"));let u,f,m=_((w,P)=>{u=w,f=P});return mr(o,{_chunkSteps:w=>{this._ongoingPromise=void 0,x(()=>u({value:w,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,M(o),u({value:void 0,done:!0})},_errorSteps:w=>{this._ongoingPromise=void 0,this._isFinished=!0,M(o),f(w)}}),m}_returnSteps(o){if(this._isFinished)return Promise.resolve({value:o,done:!0});this._isFinished=!0;let u=this._reader;if(u._ownerReadableStream===void 0)return h(H("finish iterating"));if(!this._preventCancel){let f=B(u,o);return M(u),k(f,()=>({value:o,done:!0}))}return M(u),S({value:o,done:!0})}}let oa={next(){return aa(this)?this._asyncIteratorImpl.next():h(sa("next"))},return(r){return aa(this)?this._asyncIteratorImpl.return(r):h(sa("return"))}};na!==void 0&&Object.setPrototypeOf(oa,na);function id(r,o){let u=Ft(r),f=new ia(u,o),m=Object.create(oa);return m._asyncIteratorImpl=f,m}function aa(r){if(!s(r)||!Object.prototype.hasOwnProperty.call(r,"_asyncIteratorImpl"))return!1;try{return r._asyncIteratorImpl instanceof ia}catch{return!1}}function sa(r){return new TypeError(`ReadableStreamAsyncIterator.${r} can only be used on a ReadableSteamAsyncIterator`)}let ua=Number.isNaN||function(r){return r!==r};function pr(r){return r.slice()}function la(r,o,u,f,m){new Uint8Array(r).set(new Uint8Array(u,f,m),o)}function nb(r){return r}function rn(r){return!1}function ca(r,o,u){if(r.slice)return r.slice(o,u);let f=u-o,m=new ArrayBuffer(f);return la(m,0,r,o,f),m}function od(r){return!(typeof r!="number"||ua(r)||r<0)}function fa(r){let o=ca(r.buffer,r.byteOffset,r.byteOffset+r.byteLength);return new Uint8Array(o)}function Di(r){let o=r._queue.shift();return r._queueTotalSize-=o.size,r._queueTotalSize<0&&(r._queueTotalSize=0),o.value}function Oi(r,o,u){if(!od(u)||u===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");r._queue.push({value:o,size:u}),r._queueTotalSize+=u}function ad(r){return r._queue.peek().value}function ot(r){r._queue=new v,r._queueTotalSize=0}class hr{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Ii(this))throw Fi("view");return this._view}respond(o){if(!Ii(this))throw Fi("respond");if(Ye(o,1,"respond"),o=ea(o,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");rn(this._view.buffer),un(this._associatedReadableByteStreamController,o)}respondWithNewView(o){if(!Ii(this))throw Fi("respondWithNewView");if(Ye(o,1,"respondWithNewView"),!ArrayBuffer.isView(o))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");rn(o.buffer),ln(this._associatedReadableByteStreamController,o)}}Object.defineProperties(hr.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(hr.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Lt{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!_t(this))throw gr("byobRequest");return Wi(this)}get desiredSize(){if(!_t(this))throw gr("desiredSize");return Sa(this)}close(){if(!_t(this))throw gr("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let o=this._controlledReadableByteStream._state;if(o!=="readable")throw new TypeError(`The stream (in ${o} state) is not in the readable state and cannot be closed`);yr(this)}enqueue(o){if(!_t(this))throw gr("enqueue");if(Ye(o,1,"enqueue"),!ArrayBuffer.isView(o))throw new TypeError("chunk must be an array buffer view");if(o.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(o.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let u=this._controlledReadableByteStream._state;if(u!=="readable")throw new TypeError(`The stream (in ${u} state) is not in the readable state and cannot be enqueued to`);sn(this,o)}error(o=void 0){if(!_t(this))throw gr("error");Oe(this,o)}[Pi](o){da(this),ot(this);let u=this._cancelAlgorithm(o);return an(this),u}[vi](o){let u=this._controlledReadableByteStream;if(this._queueTotalSize>0){let m=this._queue.shift();this._queueTotalSize-=m.byteLength,ya(this);let b=new Uint8Array(m.buffer,m.byteOffset,m.byteLength);o._chunkSteps(b);return}let f=this._autoAllocateChunkSize;if(f!==void 0){let m;try{m=new ArrayBuffer(f)}catch(w){o._errorSteps(w);return}let b={buffer:m,bufferByteLength:f,byteOffset:0,byteLength:f,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(b)}ta(u,o),Et(this)}}Object.defineProperties(Lt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Lt.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function _t(r){return!s(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledReadableByteStream")?!1:r instanceof Lt}function Ii(r){return!s(r)||!Object.prototype.hasOwnProperty.call(r,"_associatedReadableByteStreamController")?!1:r instanceof hr}function Et(r){if(!cd(r))return;if(r._pulling){r._pullAgain=!0;return}r._pulling=!0;let u=r._pullAlgorithm();T(u,()=>{r._pulling=!1,r._pullAgain&&(r._pullAgain=!1,Et(r))},f=>{Oe(r,f)})}function da(r){qi(r),r._pendingPullIntos=new v}function Bi(r,o){let u=!1;r._state==="closed"&&(u=!0);let f=ma(o);o.readerType==="default"?xi(r,f,u):md(r,f,u)}function ma(r){let o=r.bytesFilled,u=r.elementSize;return new r.viewConstructor(r.buffer,r.byteOffset,o/u)}function nn(r,o,u,f){r._queue.push({buffer:o,byteOffset:u,byteLength:f}),r._queueTotalSize+=f}function pa(r,o){let u=o.elementSize,f=o.bytesFilled-o.bytesFilled%u,m=Math.min(r._queueTotalSize,o.byteLength-o.bytesFilled),b=o.bytesFilled+m,w=b-b%u,P=m,D=!1;w>f&&(P=w-o.bytesFilled,D=!0);let q=r._queue;for(;P>0;){let F=q.peek(),L=Math.min(P,F.byteLength),ee=o.byteOffset+o.bytesFilled;la(o.buffer,ee,F.buffer,F.byteOffset,L),F.byteLength===L?q.shift():(F.byteOffset+=L,F.byteLength-=L),r._queueTotalSize-=L,ha(r,L,o),P-=L}return D}function ha(r,o,u){u.bytesFilled+=o}function ya(r){r._queueTotalSize===0&&r._closeRequested?(an(r),Pr(r._controlledReadableByteStream)):Et(r)}function qi(r){r._byobRequest!==null&&(r._byobRequest._associatedReadableByteStreamController=void 0,r._byobRequest._view=null,r._byobRequest=null)}function ga(r){for(;r._pendingPullIntos.length>0;){if(r._queueTotalSize===0)return;let o=r._pendingPullIntos.peek();pa(r,o)&&(on(r),Bi(r._controlledReadableByteStream,o))}}function sd(r,o,u){let f=r._controlledReadableByteStream,m=1;o.constructor!==DataView&&(m=o.constructor.BYTES_PER_ELEMENT);let b=o.constructor,w=o.buffer,P={buffer:w,bufferByteLength:w.byteLength,byteOffset:o.byteOffset,byteLength:o.byteLength,bytesFilled:0,elementSize:m,viewConstructor:b,readerType:"byob"};if(r._pendingPullIntos.length>0){r._pendingPullIntos.push(P),Ea(f,u);return}if(f._state==="closed"){let D=new b(P.buffer,P.byteOffset,0);u._closeSteps(D);return}if(r._queueTotalSize>0){if(pa(r,P)){let D=ma(P);ya(r),u._chunkSteps(D);return}if(r._closeRequested){let D=new TypeError("Insufficient bytes to fill elements in the given buffer");Oe(r,D),u._errorSteps(D);return}}r._pendingPullIntos.push(P),Ea(f,u),Et(r)}function ud(r,o){let u=r._controlledReadableByteStream;if(Li(u))for(;Ra(u)>0;){let f=on(r);Bi(u,f)}}function ld(r,o,u){if(ha(r,o,u),u.bytesFilled<u.elementSize)return;on(r);let f=u.bytesFilled%u.elementSize;if(f>0){let m=u.byteOffset+u.bytesFilled,b=ca(u.buffer,m-f,m);nn(r,b,0,b.byteLength)}u.bytesFilled-=f,Bi(r._controlledReadableByteStream,u),ga(r)}function ba(r,o){let u=r._pendingPullIntos.peek();qi(r),r._controlledReadableByteStream._state==="closed"?ud(r):ld(r,o,u),Et(r)}function on(r){return r._pendingPullIntos.shift()}function cd(r){let o=r._controlledReadableByteStream;return o._state!=="readable"||r._closeRequested||!r._started?!1:!!(ra(o)&&en(o)>0||Li(o)&&Ra(o)>0||Sa(r)>0)}function an(r){r._pullAlgorithm=void 0,r._cancelAlgorithm=void 0}function yr(r){let o=r._controlledReadableByteStream;if(!(r._closeRequested||o._state!=="readable")){if(r._queueTotalSize>0){r._closeRequested=!0;return}if(r._pendingPullIntos.length>0&&r._pendingPullIntos.peek().bytesFilled>0){let f=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Oe(r,f),f}an(r),Pr(o)}}function sn(r,o){let u=r._controlledReadableByteStream;if(r._closeRequested||u._state!=="readable")return;let f=o.buffer,m=o.byteOffset,b=o.byteLength,w=f;if(r._pendingPullIntos.length>0){let P=r._pendingPullIntos.peek();rn(P.buffer),P.buffer=P.buffer}if(qi(r),ra(u))if(en(u)===0)nn(r,w,m,b);else{r._pendingPullIntos.length>0&&on(r);let P=new Uint8Array(w,m,b);xi(u,P,!1)}else Li(u)?(nn(r,w,m,b),ga(r)):nn(r,w,m,b);Et(r)}function Oe(r,o){let u=r._controlledReadableByteStream;u._state==="readable"&&(da(r),ot(r),an(r),Va(u,o))}function Wi(r){if(r._byobRequest===null&&r._pendingPullIntos.length>0){let o=r._pendingPullIntos.peek(),u=new Uint8Array(o.buffer,o.byteOffset+o.bytesFilled,o.byteLength-o.bytesFilled),f=Object.create(hr.prototype);dd(f,r,u),r._byobRequest=f}return r._byobRequest}function Sa(r){let o=r._controlledReadableByteStream._state;return o==="errored"?null:o==="closed"?0:r._strategyHWM-r._queueTotalSize}function un(r,o){let u=r._pendingPullIntos.peek();if(r._controlledReadableByteStream._state==="closed"){if(o!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(o===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(u.bytesFilled+o>u.byteLength)throw new RangeError("bytesWritten out of range")}u.buffer=u.buffer,ba(r,o)}function ln(r,o){let u=r._pendingPullIntos.peek();if(r._controlledReadableByteStream._state==="closed"){if(o.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(o.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(u.byteOffset+u.bytesFilled!==o.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(u.bufferByteLength!==o.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(u.bytesFilled+o.byteLength>u.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let m=o.byteLength;u.buffer=o.buffer,ba(r,m)}function wa(r,o,u,f,m,b,w){o._controlledReadableByteStream=r,o._pullAgain=!1,o._pulling=!1,o._byobRequest=null,o._queue=o._queueTotalSize=void 0,ot(o),o._closeRequested=!1,o._started=!1,o._strategyHWM=b,o._pullAlgorithm=f,o._cancelAlgorithm=m,o._autoAllocateChunkSize=w,o._pendingPullIntos=new v,r._readableStreamController=o;let P=u();T(S(P),()=>{o._started=!0,Et(o)},D=>{Oe(o,D)})}function fd(r,o,u){let f=Object.create(Lt.prototype),m=()=>{},b=()=>S(void 0),w=()=>S(void 0);o.start!==void 0&&(m=()=>o.start(f)),o.pull!==void 0&&(b=()=>o.pull(f)),o.cancel!==void 0&&(w=D=>o.cancel(D));let P=o.autoAllocateChunkSize;if(P===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");wa(r,f,m,b,w,u,P)}function dd(r,o,u){r._associatedReadableByteStreamController=o,r._view=u}function Fi(r){return new TypeError(`ReadableStreamBYOBRequest.prototype.${r} can only be used on a ReadableStreamBYOBRequest`)}function gr(r){return new TypeError(`ReadableByteStreamController.prototype.${r} can only be used on a ReadableByteStreamController`)}function _a(r){return new br(r)}function Ea(r,o){r._reader._readIntoRequests.push(o)}function md(r,o,u){let m=r._reader._readIntoRequests.shift();u?m._closeSteps(o):m._chunkSteps(o)}function Ra(r){return r._reader._readIntoRequests.length}function Li(r){let o=r._reader;return!(o===void 0||!Rt(o))}class br{constructor(o){if(Ye(o,1,"ReadableStreamBYOBReader"),ki(o,"First parameter"),lt(o))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!_t(o._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");W(this,o),this._readIntoRequests=new v}get closed(){return Rt(this)?this._closedPromise:h(cn("closed"))}cancel(o=void 0){return Rt(this)?this._ownerReadableStream===void 0?h(H("cancel")):B(this,o):h(cn("cancel"))}read(o){if(!Rt(this))return h(cn("read"));if(!ArrayBuffer.isView(o))return h(new TypeError("view must be an array buffer view"));if(o.byteLength===0)return h(new TypeError("view must have non-zero byteLength"));if(o.buffer.byteLength===0)return h(new TypeError("view's buffer must have non-zero byteLength"));if(rn(o.buffer),this._ownerReadableStream===void 0)return h(H("read from"));let u,f,m=_((w,P)=>{u=w,f=P});return Ta(this,o,{_chunkSteps:w=>u({value:w,done:!1}),_closeSteps:w=>u({value:w,done:!0}),_errorSteps:w=>f(w)}),m}releaseLock(){if(!Rt(this))throw cn("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");M(this)}}}Object.defineProperties(br.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(br.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function Rt(r){return!s(r)||!Object.prototype.hasOwnProperty.call(r,"_readIntoRequests")?!1:r instanceof br}function Ta(r,o,u){let f=r._ownerReadableStream;f._disturbed=!0,f._state==="errored"?u._errorSteps(f._storedError):sd(f._readableStreamController,o,u)}function cn(r){return new TypeError(`ReadableStreamBYOBReader.prototype.${r} can only be used on a ReadableStreamBYOBReader`)}function Sr(r,o){let{highWaterMark:u}=r;if(u===void 0)return o;if(ua(u)||u<0)throw new RangeError("Invalid highWaterMark");return u}function fn(r){let{size:o}=r;return o||(()=>1)}function dn(r,o){Ve(r,o);let u=r?.highWaterMark,f=r?.size;return{highWaterMark:u===void 0?void 0:Ai(u),size:f===void 0?void 0:pd(f,`${o} has member 'size' that`)}}function pd(r,o){return De(r,o),u=>Ai(r(u))}function hd(r,o){Ve(r,o);let u=r?.abort,f=r?.close,m=r?.start,b=r?.type,w=r?.write;return{abort:u===void 0?void 0:yd(u,r,`${o} has member 'abort' that`),close:f===void 0?void 0:gd(f,r,`${o} has member 'close' that`),start:m===void 0?void 0:bd(m,r,`${o} has member 'start' that`),write:w===void 0?void 0:Sd(w,r,`${o} has member 'write' that`),type:b}}function yd(r,o,u){return De(r,u),f=>I(r,o,[f])}function gd(r,o,u){return De(r,u),()=>I(r,o,[])}function bd(r,o,u){return De(r,u),f=>$(r,o,[f])}function Sd(r,o,u){return De(r,u),(f,m)=>I(r,o,[f,m])}function Pa(r,o){if(!Nt(r))throw new TypeError(`${o} is not a WritableStream.`)}function wd(r){if(typeof r!="object"||r===null)return!1;try{return typeof r.aborted=="boolean"}catch{return!1}}let _d=typeof AbortController=="function";function Ed(){if(_d)return new AbortController}class wr{constructor(o={},u={}){o===void 0?o=null:Jo(o,"First parameter");let f=dn(u,"Second parameter"),m=hd(o,"First parameter");if(Ca(this),m.type!==void 0)throw new RangeError("Invalid type is specified");let w=fn(f),P=Sr(f,1);Wd(this,m,P,w)}get locked(){if(!Nt(this))throw gn("locked");return $t(this)}abort(o=void 0){return Nt(this)?$t(this)?h(new TypeError("Cannot abort a stream that already has a writer")):mn(this,o):h(gn("abort"))}close(){return Nt(this)?$t(this)?h(new TypeError("Cannot close a stream that already has a writer")):$e(this)?h(new TypeError("Cannot close an already-closing stream")):Aa(this):h(gn("close"))}getWriter(){if(!Nt(this))throw gn("getWriter");return va(this)}}Object.defineProperties(wr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(wr.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});function va(r){return new _r(r)}function Rd(r,o,u,f,m=1,b=()=>1){let w=Object.create(wr.prototype);Ca(w);let P=Object.create(Mt.prototype);return Ba(w,P,r,o,u,f,m,b),w}function Ca(r){r._state="writable",r._storedError=void 0,r._writer=void 0,r._writableStreamController=void 0,r._writeRequests=new v,r._inFlightWriteRequest=void 0,r._closeRequest=void 0,r._inFlightCloseRequest=void 0,r._pendingAbortRequest=void 0,r._backpressure=!1}function Nt(r){return!s(r)||!Object.prototype.hasOwnProperty.call(r,"_writableStreamController")?!1:r instanceof wr}function $t(r){return r._writer!==void 0}function mn(r,o){var u;if(r._state==="closed"||r._state==="errored")return S(void 0);r._writableStreamController._abortReason=o,(u=r._writableStreamController._abortController)===null||u===void 0||u.abort();let f=r._state;if(f==="closed"||f==="errored")return S(void 0);if(r._pendingAbortRequest!==void 0)return r._pendingAbortRequest._promise;let m=!1;f==="erroring"&&(m=!0,o=void 0);let b=_((w,P)=>{r._pendingAbortRequest={_promise:void 0,_resolve:w,_reject:P,_reason:o,_wasAlreadyErroring:m}});return r._pendingAbortRequest._promise=b,m||$i(r,o),b}function Aa(r){let o=r._state;if(o==="closed"||o==="errored")return h(new TypeError(`The stream (in ${o} state) is not in the writable state and cannot be closed`));let u=_((m,b)=>{let w={_resolve:m,_reject:b};r._closeRequest=w}),f=r._writer;return f!==void 0&&r._backpressure&&o==="writable"&&Qi(f),Fd(r._writableStreamController),u}function Td(r){return _((u,f)=>{let m={_resolve:u,_reject:f};r._writeRequests.push(m)})}function Ni(r,o){if(r._state==="writable"){$i(r,o);return}Mi(r)}function $i(r,o){let u=r._writableStreamController;r._state="erroring",r._storedError=o;let f=r._writer;f!==void 0&&xa(f,o),!kd(r)&&u._started&&Mi(r)}function Mi(r){r._state="errored",r._writableStreamController[Xo]();let o=r._storedError;if(r._writeRequests.forEach(m=>{m._reject(o)}),r._writeRequests=new v,r._pendingAbortRequest===void 0){pn(r);return}let u=r._pendingAbortRequest;if(r._pendingAbortRequest=void 0,u._wasAlreadyErroring){u._reject(o),pn(r);return}let f=r._writableStreamController[Ti](u._reason);T(f,()=>{u._resolve(),pn(r)},m=>{u._reject(m),pn(r)})}function Pd(r){r._inFlightWriteRequest._resolve(void 0),r._inFlightWriteRequest=void 0}function vd(r,o){r._inFlightWriteRequest._reject(o),r._inFlightWriteRequest=void 0,Ni(r,o)}function Cd(r){r._inFlightCloseRequest._resolve(void 0),r._inFlightCloseRequest=void 0,r._state==="erroring"&&(r._storedError=void 0,r._pendingAbortRequest!==void 0&&(r._pendingAbortRequest._resolve(),r._pendingAbortRequest=void 0)),r._state="closed";let u=r._writer;u!==void 0&&La(u)}function Ad(r,o){r._inFlightCloseRequest._reject(o),r._inFlightCloseRequest=void 0,r._pendingAbortRequest!==void 0&&(r._pendingAbortRequest._reject(o),r._pendingAbortRequest=void 0),Ni(r,o)}function $e(r){return!(r._closeRequest===void 0&&r._inFlightCloseRequest===void 0)}function kd(r){return!(r._inFlightWriteRequest===void 0&&r._inFlightCloseRequest===void 0)}function xd(r){r._inFlightCloseRequest=r._closeRequest,r._closeRequest=void 0}function Dd(r){r._inFlightWriteRequest=r._writeRequests.shift()}function pn(r){r._closeRequest!==void 0&&(r._closeRequest._reject(r._storedError),r._closeRequest=void 0);let o=r._writer;o!==void 0&&Vi(o,r._storedError)}function zi(r,o){let u=r._writer;u!==void 0&&o!==r._backpressure&&(o?Ud(u):Qi(u)),r._backpressure=o}class _r{constructor(o){if(Ye(o,1,"WritableStreamDefaultWriter"),Pa(o,"First parameter"),$t(o))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=o,o._writer=this;let u=o._state;if(u==="writable")!$e(o)&&o._backpressure?Sn(this):Na(this),bn(this);else if(u==="erroring")Yi(this,o._storedError),bn(this);else if(u==="closed")Na(this),zd(this);else{let f=o._storedError;Yi(this,f),Fa(this,f)}}get closed(){return Tt(this)?this._closedPromise:h(Pt("closed"))}get desiredSize(){if(!Tt(this))throw Pt("desiredSize");if(this._ownerWritableStream===void 0)throw Er("desiredSize");return qd(this)}get ready(){return Tt(this)?this._readyPromise:h(Pt("ready"))}abort(o=void 0){return Tt(this)?this._ownerWritableStream===void 0?h(Er("abort")):Od(this,o):h(Pt("abort"))}close(){if(!Tt(this))return h(Pt("close"));let o=this._ownerWritableStream;return o===void 0?h(Er("close")):$e(o)?h(new TypeError("Cannot close an already-closing stream")):ka(this)}releaseLock(){if(!Tt(this))throw Pt("releaseLock");this._ownerWritableStream!==void 0&&Da(this)}write(o=void 0){return Tt(this)?this._ownerWritableStream===void 0?h(Er("write to")):Oa(this,o):h(Pt("write"))}}Object.defineProperties(_r.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(_r.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Tt(r){return!s(r)||!Object.prototype.hasOwnProperty.call(r,"_ownerWritableStream")?!1:r instanceof _r}function Od(r,o){let u=r._ownerWritableStream;return mn(u,o)}function ka(r){let o=r._ownerWritableStream;return Aa(o)}function Id(r){let o=r._ownerWritableStream,u=o._state;return $e(o)||u==="closed"?S(void 0):u==="errored"?h(o._storedError):ka(r)}function Bd(r,o){r._closedPromiseState==="pending"?Vi(r,o):jd(r,o)}function xa(r,o){r._readyPromiseState==="pending"?$a(r,o):Gd(r,o)}function qd(r){let o=r._ownerWritableStream,u=o._state;return u==="errored"||u==="erroring"?null:u==="closed"?0:qa(o._writableStreamController)}function Da(r){let o=r._ownerWritableStream,u=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");xa(r,u),Bd(r,u),o._writer=void 0,r._ownerWritableStream=void 0}function Oa(r,o){let u=r._ownerWritableStream,f=u._writableStreamController,m=Ld(f,o);if(u!==r._ownerWritableStream)return h(Er("write to"));let b=u._state;if(b==="errored")return h(u._storedError);if($e(u)||b==="closed")return h(new TypeError("The stream is closing or closed and cannot be written to"));if(b==="erroring")return h(u._storedError);let w=Td(u);return Nd(f,o,m),w}let Ia={};class Mt{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!ji(this))throw Hi("abortReason");return this._abortReason}get signal(){if(!ji(this))throw Hi("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(o=void 0){if(!ji(this))throw Hi("error");this._controlledWritableStream._state==="writable"&&Wa(this,o)}[Ti](o){let u=this._abortAlgorithm(o);return hn(this),u}[Xo](){ot(this)}}Object.defineProperties(Mt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Mt.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function ji(r){return!s(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledWritableStream")?!1:r instanceof Mt}function Ba(r,o,u,f,m,b,w,P){o._controlledWritableStream=r,r._writableStreamController=o,o._queue=void 0,o._queueTotalSize=void 0,ot(o),o._abortReason=void 0,o._abortController=Ed(),o._started=!1,o._strategySizeAlgorithm=P,o._strategyHWM=w,o._writeAlgorithm=f,o._closeAlgorithm=m,o._abortAlgorithm=b;let D=Gi(o);zi(r,D);let q=u(),F=S(q);T(F,()=>{o._started=!0,yn(o)},L=>{o._started=!0,Ni(r,L)})}function Wd(r,o,u,f){let m=Object.create(Mt.prototype),b=()=>{},w=()=>S(void 0),P=()=>S(void 0),D=()=>S(void 0);o.start!==void 0&&(b=()=>o.start(m)),o.write!==void 0&&(w=q=>o.write(q,m)),o.close!==void 0&&(P=()=>o.close()),o.abort!==void 0&&(D=q=>o.abort(q)),Ba(r,m,b,w,P,D,u,f)}function hn(r){r._writeAlgorithm=void 0,r._closeAlgorithm=void 0,r._abortAlgorithm=void 0,r._strategySizeAlgorithm=void 0}function Fd(r){Oi(r,Ia,0),yn(r)}function Ld(r,o){try{return r._strategySizeAlgorithm(o)}catch(u){return Ui(r,u),1}}function qa(r){return r._strategyHWM-r._queueTotalSize}function Nd(r,o,u){try{Oi(r,o,u)}catch(m){Ui(r,m);return}let f=r._controlledWritableStream;if(!$e(f)&&f._state==="writable"){let m=Gi(r);zi(f,m)}yn(r)}function yn(r){let o=r._controlledWritableStream;if(!r._started||o._inFlightWriteRequest!==void 0)return;if(o._state==="erroring"){Mi(o);return}if(r._queue.length===0)return;let f=ad(r);f===Ia?$d(r):Md(r,f)}function Ui(r,o){r._controlledWritableStream._state==="writable"&&Wa(r,o)}function $d(r){let o=r._controlledWritableStream;xd(o),Di(r);let u=r._closeAlgorithm();hn(r),T(u,()=>{Cd(o)},f=>{Ad(o,f)})}function Md(r,o){let u=r._controlledWritableStream;Dd(u);let f=r._writeAlgorithm(o);T(f,()=>{Pd(u);let m=u._state;if(Di(r),!$e(u)&&m==="writable"){let b=Gi(r);zi(u,b)}yn(r)},m=>{u._state==="writable"&&hn(r),vd(u,m)})}function Gi(r){return qa(r)<=0}function Wa(r,o){let u=r._controlledWritableStream;hn(r),$i(u,o)}function gn(r){return new TypeError(`WritableStream.prototype.${r} can only be used on a WritableStream`)}function Hi(r){return new TypeError(`WritableStreamDefaultController.prototype.${r} can only be used on a WritableStreamDefaultController`)}function Pt(r){return new TypeError(`WritableStreamDefaultWriter.prototype.${r} can only be used on a WritableStreamDefaultWriter`)}function Er(r){return new TypeError("Cannot "+r+" a stream using a released writer")}function bn(r){r._closedPromise=_((o,u)=>{r._closedPromise_resolve=o,r._closedPromise_reject=u,r._closedPromiseState="pending"})}function Fa(r,o){bn(r),Vi(r,o)}function zd(r){bn(r),La(r)}function Vi(r,o){r._closedPromise_reject!==void 0&&(X(r._closedPromise),r._closedPromise_reject(o),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0,r._closedPromiseState="rejected")}function jd(r,o){Fa(r,o)}function La(r){r._closedPromise_resolve!==void 0&&(r._closedPromise_resolve(void 0),r._closedPromise_resolve=void 0,r._closedPromise_reject=void 0,r._closedPromiseState="resolved")}function Sn(r){r._readyPromise=_((o,u)=>{r._readyPromise_resolve=o,r._readyPromise_reject=u}),r._readyPromiseState="pending"}function Yi(r,o){Sn(r),$a(r,o)}function Na(r){Sn(r),Qi(r)}function $a(r,o){r._readyPromise_reject!==void 0&&(X(r._readyPromise),r._readyPromise_reject(o),r._readyPromise_resolve=void 0,r._readyPromise_reject=void 0,r._readyPromiseState="rejected")}function Ud(r){Sn(r)}function Gd(r,o){Yi(r,o)}function Qi(r){r._readyPromise_resolve!==void 0&&(r._readyPromise_resolve(void 0),r._readyPromise_resolve=void 0,r._readyPromise_reject=void 0,r._readyPromiseState="fulfilled")}let Ma=typeof DOMException<"u"?DOMException:void 0;function Hd(r){if(!(typeof r=="function"||typeof r=="object"))return!1;try{return new r,!0}catch{return!1}}function Vd(){let r=function(u,f){this.message=u||"",this.name=f||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return r.prototype=Object.create(Error.prototype),Object.defineProperty(r.prototype,"constructor",{value:r,writable:!0,configurable:!0}),r}let Yd=Hd(Ma)?Ma:Vd();function za(r,o,u,f,m,b){let w=Ft(r),P=va(o);r._disturbed=!0;let D=!1,q=S(void 0);return _((F,L)=>{let ee;if(b!==void 0){if(ee=()=>{let A=new Yd("Aborted","AbortError"),O=[];f||O.push(()=>o._state==="writable"?mn(o,A):S(void 0)),m||O.push(()=>r._state==="readable"?Ie(r,A):S(void 0)),he(()=>Promise.all(O.map(j=>j())),!0,A)},b.aborted){ee();return}b.addEventListener("abort",ee)}function Be(){return _((A,O)=>{function j(Re){Re?A():g(Ut(),j,O)}j(!1)})}function Ut(){return D?S(!0):g(P._readyPromise,()=>_((A,O)=>{mr(w,{_chunkSteps:j=>{q=g(Oa(P,j),void 0,n),A(!1)},_closeSteps:()=>A(!0),_errorSteps:O})}))}if(Qe(r,w._closedPromise,A=>{f?Ce(!0,A):he(()=>mn(o,A),!0,A)}),Qe(o,P._closedPromise,A=>{m?Ce(!0,A):he(()=>Ie(r,A),!0,A)}),fe(r,w._closedPromise,()=>{u?Ce():he(()=>Id(P))}),$e(o)||o._state==="closed"){let A=new TypeError("the destination writable stream closed before all data could be piped to it");m?Ce(!0,A):he(()=>Ie(r,A),!0,A)}X(Be());function ct(){let A=q;return g(q,()=>A!==q?ct():void 0)}function Qe(A,O,j){A._state==="errored"?j(A._storedError):C(O,j)}function fe(A,O,j){A._state==="closed"?j():R(O,j)}function he(A,O,j){if(D)return;D=!0,o._state==="writable"&&!$e(o)?R(ct(),Re):Re();function Re(){T(A(),()=>Xe(O,j),Gt=>Xe(!0,Gt))}}function Ce(A,O){D||(D=!0,o._state==="writable"&&!$e(o)?R(ct(),()=>Xe(A,O)):Xe(A,O))}function Xe(A,O){Da(P),M(w),b!==void 0&&b.removeEventListener("abort",ee),A?L(O):F(void 0)}})}class zt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!wn(this))throw Rn("desiredSize");return Xi(this)}close(){if(!wn(this))throw Rn("close");if(!jt(this))throw new TypeError("The stream is not in a state that permits close");Tr(this)}enqueue(o=void 0){if(!wn(this))throw Rn("enqueue");if(!jt(this))throw new TypeError("The stream is not in a state that permits enqueue");return En(this,o)}error(o=void 0){if(!wn(this))throw Rn("error");at(this,o)}[Pi](o){ot(this);let u=this._cancelAlgorithm(o);return _n(this),u}[vi](o){let u=this._controlledReadableStream;if(this._queue.length>0){let f=Di(this);this._closeRequested&&this._queue.length===0?(_n(this),Pr(u)):Rr(this),o._chunkSteps(f)}else ta(u,o),Rr(this)}}Object.defineProperties(zt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(zt.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function wn(r){return!s(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledReadableStream")?!1:r instanceof zt}function Rr(r){if(!ja(r))return;if(r._pulling){r._pullAgain=!0;return}r._pulling=!0;let u=r._pullAlgorithm();T(u,()=>{r._pulling=!1,r._pullAgain&&(r._pullAgain=!1,Rr(r))},f=>{at(r,f)})}function ja(r){let o=r._controlledReadableStream;return!jt(r)||!r._started?!1:!!(lt(o)&&en(o)>0||Xi(r)>0)}function _n(r){r._pullAlgorithm=void 0,r._cancelAlgorithm=void 0,r._strategySizeAlgorithm=void 0}function Tr(r){if(!jt(r))return;let o=r._controlledReadableStream;r._closeRequested=!0,r._queue.length===0&&(_n(r),Pr(o))}function En(r,o){if(!jt(r))return;let u=r._controlledReadableStream;if(lt(u)&&en(u)>0)xi(u,o,!1);else{let f;try{f=r._strategySizeAlgorithm(o)}catch(m){throw at(r,m),m}try{Oi(r,o,f)}catch(m){throw at(r,m),m}}Rr(r)}function at(r,o){let u=r._controlledReadableStream;u._state==="readable"&&(ot(r),_n(r),Va(u,o))}function Xi(r){let o=r._controlledReadableStream._state;return o==="errored"?null:o==="closed"?0:r._strategyHWM-r._queueTotalSize}function Qd(r){return!ja(r)}function jt(r){let o=r._controlledReadableStream._state;return!r._closeRequested&&o==="readable"}function Ua(r,o,u,f,m,b,w){o._controlledReadableStream=r,o._queue=void 0,o._queueTotalSize=void 0,ot(o),o._started=!1,o._closeRequested=!1,o._pullAgain=!1,o._pulling=!1,o._strategySizeAlgorithm=w,o._strategyHWM=b,o._pullAlgorithm=f,o._cancelAlgorithm=m,r._readableStreamController=o;let P=u();T(S(P),()=>{o._started=!0,Rr(o)},D=>{at(o,D)})}function Xd(r,o,u,f){let m=Object.create(zt.prototype),b=()=>{},w=()=>S(void 0),P=()=>S(void 0);o.start!==void 0&&(b=()=>o.start(m)),o.pull!==void 0&&(w=()=>o.pull(m)),o.cancel!==void 0&&(P=D=>o.cancel(D)),Ua(r,m,b,w,P,u,f)}function Rn(r){return new TypeError(`ReadableStreamDefaultController.prototype.${r} can only be used on a ReadableStreamDefaultController`)}function Kd(r,o){return _t(r._readableStreamController)?Zd(r):Jd(r)}function Jd(r,o){let u=Ft(r),f=!1,m=!1,b=!1,w=!1,P,D,q,F,L,ee=_(fe=>{L=fe});function Be(){return f?(m=!0,S(void 0)):(f=!0,mr(u,{_chunkSteps:he=>{x(()=>{m=!1;let Ce=he,Xe=he;b||En(q._readableStreamController,Ce),w||En(F._readableStreamController,Xe),f=!1,m&&Be()})},_closeSteps:()=>{f=!1,b||Tr(q._readableStreamController),w||Tr(F._readableStreamController),(!b||!w)&&L(void 0)},_errorSteps:()=>{f=!1}}),S(void 0))}function Ut(fe){if(b=!0,P=fe,w){let he=pr([P,D]),Ce=Ie(r,he);L(Ce)}return ee}function ct(fe){if(w=!0,D=fe,b){let he=pr([P,D]),Ce=Ie(r,he);L(Ce)}return ee}function Qe(){}return q=Ki(Qe,Be,Ut),F=Ki(Qe,Be,ct),C(u._closedPromise,fe=>{at(q._readableStreamController,fe),at(F._readableStreamController,fe),(!b||!w)&&L(void 0)}),[q,F]}function Zd(r){let o=Ft(r),u=!1,f=!1,m=!1,b=!1,w=!1,P,D,q,F,L,ee=_(A=>{L=A});function Be(A){C(A._closedPromise,O=>{A===o&&(Oe(q._readableStreamController,O),Oe(F._readableStreamController,O),(!b||!w)&&L(void 0))})}function Ut(){Rt(o)&&(M(o),o=Ft(r),Be(o)),mr(o,{_chunkSteps:O=>{x(()=>{f=!1,m=!1;let j=O,Re=O;if(!b&&!w)try{Re=fa(O)}catch(Gt){Oe(q._readableStreamController,Gt),Oe(F._readableStreamController,Gt),L(Ie(r,Gt));return}b||sn(q._readableStreamController,j),w||sn(F._readableStreamController,Re),u=!1,f?Qe():m&&fe()})},_closeSteps:()=>{u=!1,b||yr(q._readableStreamController),w||yr(F._readableStreamController),q._readableStreamController._pendingPullIntos.length>0&&un(q._readableStreamController,0),F._readableStreamController._pendingPullIntos.length>0&&un(F._readableStreamController,0),(!b||!w)&&L(void 0)},_errorSteps:()=>{u=!1}})}function ct(A,O){it(o)&&(M(o),o=_a(r),Be(o));let j=O?F:q,Re=O?q:F;Ta(o,A,{_chunkSteps:Ht=>{x(()=>{f=!1,m=!1;let Vt=O?w:b;if(O?b:w)Vt||ln(j._readableStreamController,Ht);else{let as;try{as=fa(Ht)}catch(Zi){Oe(j._readableStreamController,Zi),Oe(Re._readableStreamController,Zi),L(Ie(r,Zi));return}Vt||ln(j._readableStreamController,Ht),sn(Re._readableStreamController,as)}u=!1,f?Qe():m&&fe()})},_closeSteps:Ht=>{u=!1;let Vt=O?w:b,On=O?b:w;Vt||yr(j._readableStreamController),On||yr(Re._readableStreamController),Ht!==void 0&&(Vt||ln(j._readableStreamController,Ht),!On&&Re._readableStreamController._pendingPullIntos.length>0&&un(Re._readableStreamController,0)),(!Vt||!On)&&L(void 0)},_errorSteps:()=>{u=!1}})}function Qe(){if(u)return f=!0,S(void 0);u=!0;let A=Wi(q._readableStreamController);return A===null?Ut():ct(A._view,!1),S(void 0)}function fe(){if(u)return m=!0,S(void 0);u=!0;let A=Wi(F._readableStreamController);return A===null?Ut():ct(A._view,!0),S(void 0)}function he(A){if(b=!0,P=A,w){let O=pr([P,D]),j=Ie(r,O);L(j)}return ee}function Ce(A){if(w=!0,D=A,b){let O=pr([P,D]),j=Ie(r,O);L(j)}return ee}function Xe(){}return q=Ha(Xe,Qe,he),F=Ha(Xe,fe,Ce),Be(o),[q,F]}function em(r,o){Ve(r,o);let u=r,f=u?.autoAllocateChunkSize,m=u?.cancel,b=u?.pull,w=u?.start,P=u?.type;return{autoAllocateChunkSize:f===void 0?void 0:ea(f,`${o} has member 'autoAllocateChunkSize' that`),cancel:m===void 0?void 0:tm(m,u,`${o} has member 'cancel' that`),pull:b===void 0?void 0:rm(b,u,`${o} has member 'pull' that`),start:w===void 0?void 0:nm(w,u,`${o} has member 'start' that`),type:P===void 0?void 0:im(P,`${o} has member 'type' that`)}}function tm(r,o,u){return De(r,u),f=>I(r,o,[f])}function rm(r,o,u){return De(r,u),f=>I(r,o,[f])}function nm(r,o,u){return De(r,u),f=>$(r,o,[f])}function im(r,o){if(r=`${r}`,r!=="bytes")throw new TypeError(`${o} '${r}' is not a valid enumeration value for ReadableStreamType`);return r}function om(r,o){Ve(r,o);let u=r?.mode;return{mode:u===void 0?void 0:am(u,`${o} has member 'mode' that`)}}function am(r,o){if(r=`${r}`,r!=="byob")throw new TypeError(`${o} '${r}' is not a valid enumeration value for ReadableStreamReaderMode`);return r}function sm(r,o){Ve(r,o);let u=r?.preventCancel;return{preventCancel:Boolean(u)}}function Ga(r,o){Ve(r,o);let u=r?.preventAbort,f=r?.preventCancel,m=r?.preventClose,b=r?.signal;return b!==void 0&&um(b,`${o} has member 'signal' that`),{preventAbort:Boolean(u),preventCancel:Boolean(f),preventClose:Boolean(m),signal:b}}function um(r,o){if(!wd(r))throw new TypeError(`${o} is not an AbortSignal.`)}function lm(r,o){Ve(r,o);let u=r?.readable;Ci(u,"readable","ReadableWritablePair"),ki(u,`${o} has member 'readable' that`);let f=r?.writable;return Ci(f,"writable","ReadableWritablePair"),Pa(f,`${o} has member 'writable' that`),{readable:u,writable:f}}class st{constructor(o={},u={}){o===void 0?o=null:Jo(o,"First parameter");let f=dn(u,"Second parameter"),m=em(o,"First parameter");if(Ji(this),m.type==="bytes"){if(f.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let b=Sr(f,0);fd(this,m,b)}else{let b=fn(f),w=Sr(f,1);Xd(this,m,w,b)}}get locked(){if(!ut(this))throw vt("locked");return lt(this)}cancel(o=void 0){return ut(this)?lt(this)?h(new TypeError("Cannot cancel a stream that already has a reader")):Ie(this,o):h(vt("cancel"))}getReader(o=void 0){if(!ut(this))throw vt("getReader");return om(o,"First parameter").mode===void 0?Ft(this):_a(this)}pipeThrough(o,u={}){if(!ut(this))throw vt("pipeThrough");Ye(o,1,"pipeThrough");let f=lm(o,"First parameter"),m=Ga(u,"Second parameter");if(lt(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if($t(f.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let b=za(this,f.writable,m.preventClose,m.preventAbort,m.preventCancel,m.signal);return X(b),f.readable}pipeTo(o,u={}){if(!ut(this))return h(vt("pipeTo"));if(o===void 0)return h("Parameter 1 is required in 'pipeTo'.");if(!Nt(o))return h(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let f;try{f=Ga(u,"Second parameter")}catch(m){return h(m)}return lt(this)?h(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):$t(o)?h(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):za(this,o,f.preventClose,f.preventAbort,f.preventCancel,f.signal)}tee(){if(!ut(this))throw vt("tee");let o=Kd(this);return pr(o)}values(o=void 0){if(!ut(this))throw vt("values");let u=sm(o,"First parameter");return id(this,u.preventCancel)}}Object.defineProperties(st.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(st.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),typeof t.asyncIterator=="symbol"&&Object.defineProperty(st.prototype,t.asyncIterator,{value:st.prototype.values,writable:!0,configurable:!0});function Ki(r,o,u,f=1,m=()=>1){let b=Object.create(st.prototype);Ji(b);let w=Object.create(zt.prototype);return Ua(b,w,r,o,u,f,m),b}function Ha(r,o,u){let f=Object.create(st.prototype);Ji(f);let m=Object.create(Lt.prototype);return wa(f,m,r,o,u,0,void 0),f}function Ji(r){r._state="readable",r._reader=void 0,r._storedError=void 0,r._disturbed=!1}function ut(r){return!s(r)||!Object.prototype.hasOwnProperty.call(r,"_readableStreamController")?!1:r instanceof st}function lt(r){return r._reader!==void 0}function Ie(r,o){if(r._disturbed=!0,r._state==="closed")return S(void 0);if(r._state==="errored")return h(r._storedError);Pr(r);let u=r._reader;u!==void 0&&Rt(u)&&(u._readIntoRequests.forEach(m=>{m._closeSteps(void 0)}),u._readIntoRequests=new v);let f=r._readableStreamController[Pi](o);return k(f,n)}function Pr(r){r._state="closed";let o=r._reader;o!==void 0&&(J(o),it(o)&&(o._readRequests.forEach(u=>{u._closeSteps()}),o._readRequests=new v))}function Va(r,o){r._state="errored",r._storedError=o;let u=r._reader;u!==void 0&&(N(u,o),it(u)?(u._readRequests.forEach(f=>{f._errorSteps(o)}),u._readRequests=new v):(u._readIntoRequests.forEach(f=>{f._errorSteps(o)}),u._readIntoRequests=new v))}function vt(r){return new TypeError(`ReadableStream.prototype.${r} can only be used on a ReadableStream`)}function Ya(r,o){Ve(r,o);let u=r?.highWaterMark;return Ci(u,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Ai(u)}}let Qa=r=>r.byteLength;Object.defineProperty(Qa,"name",{value:"size",configurable:!0});class Tn{constructor(o){Ye(o,1,"ByteLengthQueuingStrategy"),o=Ya(o,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=o.highWaterMark}get highWaterMark(){if(!Ka(this))throw Xa("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Ka(this))throw Xa("size");return Qa}}Object.defineProperties(Tn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Tn.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Xa(r){return new TypeError(`ByteLengthQueuingStrategy.prototype.${r} can only be used on a ByteLengthQueuingStrategy`)}function Ka(r){return!s(r)||!Object.prototype.hasOwnProperty.call(r,"_byteLengthQueuingStrategyHighWaterMark")?!1:r instanceof Tn}let Ja=()=>1;Object.defineProperty(Ja,"name",{value:"size",configurable:!0});class Pn{constructor(o){Ye(o,1,"CountQueuingStrategy"),o=Ya(o,"First parameter"),this._countQueuingStrategyHighWaterMark=o.highWaterMark}get highWaterMark(){if(!es(this))throw Za("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!es(this))throw Za("size");return Ja}}Object.defineProperties(Pn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Pn.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Za(r){return new TypeError(`CountQueuingStrategy.prototype.${r} can only be used on a CountQueuingStrategy`)}function es(r){return!s(r)||!Object.prototype.hasOwnProperty.call(r,"_countQueuingStrategyHighWaterMark")?!1:r instanceof Pn}function cm(r,o){Ve(r,o);let u=r?.flush,f=r?.readableType,m=r?.start,b=r?.transform,w=r?.writableType;return{flush:u===void 0?void 0:fm(u,r,`${o} has member 'flush' that`),readableType:f,start:m===void 0?void 0:dm(m,r,`${o} has member 'start' that`),transform:b===void 0?void 0:mm(b,r,`${o} has member 'transform' that`),writableType:w}}function fm(r,o,u){return De(r,u),f=>I(r,o,[f])}function dm(r,o,u){return De(r,u),f=>$(r,o,[f])}function mm(r,o,u){return De(r,u),(f,m)=>I(r,o,[f,m])}class vn{constructor(o={},u={},f={}){o===void 0&&(o=null);let m=dn(u,"Second parameter"),b=dn(f,"Third parameter"),w=cm(o,"First parameter");if(w.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(w.writableType!==void 0)throw new RangeError("Invalid writableType specified");let P=Sr(b,0),D=fn(b),q=Sr(m,1),F=fn(m),L,ee=_(Be=>{L=Be});pm(this,ee,q,F,P,D),ym(this,w),w.start!==void 0?L(w.start(this._transformStreamController)):L(void 0)}get readable(){if(!ts(this))throw os("readable");return this._readable}get writable(){if(!ts(this))throw os("writable");return this._writable}}Object.defineProperties(vn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(vn.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});function pm(r,o,u,f,m,b){function w(){return o}function P(ee){return Sm(r,ee)}function D(ee){return wm(r,ee)}function q(){return _m(r)}r._writable=Rd(w,P,q,D,u,f);function F(){return Em(r)}function L(ee){return An(r,ee),S(void 0)}r._readable=Ki(w,F,L,m,b),r._backpressure=void 0,r._backpressureChangePromise=void 0,r._backpressureChangePromise_resolve=void 0,kn(r,!0),r._transformStreamController=void 0}function ts(r){return!s(r)||!Object.prototype.hasOwnProperty.call(r,"_transformStreamController")?!1:r instanceof vn}function Cn(r,o){at(r._readable._readableStreamController,o),An(r,o)}function An(r,o){rs(r._transformStreamController),Ui(r._writable._writableStreamController,o),r._backpressure&&kn(r,!1)}function kn(r,o){r._backpressureChangePromise!==void 0&&r._backpressureChangePromise_resolve(),r._backpressureChangePromise=_(u=>{r._backpressureChangePromise_resolve=u}),r._backpressure=o}class vr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!xn(this))throw Dn("desiredSize");let o=this._controlledTransformStream._readable._readableStreamController;return Xi(o)}enqueue(o=void 0){if(!xn(this))throw Dn("enqueue");ns(this,o)}error(o=void 0){if(!xn(this))throw Dn("error");gm(this,o)}terminate(){if(!xn(this))throw Dn("terminate");bm(this)}}Object.defineProperties(vr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(vr.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function xn(r){return!s(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledTransformStream")?!1:r instanceof vr}function hm(r,o,u,f){o._controlledTransformStream=r,r._transformStreamController=o,o._transformAlgorithm=u,o._flushAlgorithm=f}function ym(r,o){let u=Object.create(vr.prototype),f=b=>{try{return ns(u,b),S(void 0)}catch(w){return h(w)}},m=()=>S(void 0);o.transform!==void 0&&(f=b=>o.transform(b,u)),o.flush!==void 0&&(m=()=>o.flush(u)),hm(r,u,f,m)}function rs(r){r._transformAlgorithm=void 0,r._flushAlgorithm=void 0}function ns(r,o){let u=r._controlledTransformStream,f=u._readable._readableStreamController;if(!jt(f))throw new TypeError("Readable side is not in a state that permits enqueue");try{En(f,o)}catch(b){throw An(u,b),u._readable._storedError}Qd(f)!==u._backpressure&&kn(u,!0)}function gm(r,o){Cn(r._controlledTransformStream,o)}function is(r,o){let u=r._transformAlgorithm(o);return k(u,void 0,f=>{throw Cn(r._controlledTransformStream,f),f})}function bm(r){let o=r._controlledTransformStream,u=o._readable._readableStreamController;Tr(u);let f=new TypeError("TransformStream terminated");An(o,f)}function Sm(r,o){let u=r._transformStreamController;if(r._backpressure){let f=r._backpressureChangePromise;return k(f,()=>{let m=r._writable;if(m._state==="erroring")throw m._storedError;return is(u,o)})}return is(u,o)}function wm(r,o){return Cn(r,o),S(void 0)}function _m(r){let o=r._readable,u=r._transformStreamController,f=u._flushAlgorithm();return rs(u),k(f,()=>{if(o._state==="errored")throw o._storedError;Tr(o._readableStreamController)},m=>{throw Cn(r,m),o._storedError})}function Em(r){return kn(r,!1),r._backpressureChangePromise}function Dn(r){return new TypeError(`TransformStreamDefaultController.prototype.${r} can only be used on a TransformStreamDefaultController`)}function os(r){return new TypeError(`TransformStream.prototype.${r} can only be used on a TransformStream`)}e.ByteLengthQueuingStrategy=Tn,e.CountQueuingStrategy=Pn,e.ReadableByteStreamController=Lt,e.ReadableStream=st,e.ReadableStreamBYOBReader=br,e.ReadableStreamBYOBRequest=hr,e.ReadableStreamDefaultController=zt,e.ReadableStreamDefaultReader=dr,e.TransformStream=vn,e.TransformStreamDefaultController=vr,e.WritableStream=wr,e.WritableStreamDefaultController=Mt,e.WritableStreamDefaultWriter=_r,Object.defineProperty(e,"__esModule",{value:!0})})});var ds=E(()=>{if(!globalThis.ReadableStream)try{let e=require("node:process"),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),e.emitWarning=t}catch(n){throw e.emitWarning=t,n}}catch{Object.assign(globalThis,fs())}try{let{Blob:e}=require("buffer");e&&!e.prototype.stream&&(e.prototype.stream=function(n){let i=0,a=this;return new ReadableStream({type:"bytes",async pull(s){let c=await a.slice(i,Math.min(a.size,i+65536)).arrayBuffer();i+=c.byteLength,s.enqueue(new Uint8Array(c)),i===a.size&&s.close()}})})}catch{}});async function*eo(e,t=!0){for(let n of e)if("stream"in n)yield*n.stream();else if(ArrayBuffer.isView(n))if(t){let i=n.byteOffset,a=n.byteOffset+n.byteLength;for(;i!==a;){let s=Math.min(a-i,ms),l=n.buffer.slice(i,i+s);i+=l.byteLength,yield new Uint8Array(l)}}else yield n;else{let i=0,a=n;for(;i!==a.size;){let l=await a.slice(i,Math.min(a.size,i+ms)).arrayBuffer();i+=l.byteLength,yield new Uint8Array(l)}}}var ub,ms,ps,xm,Ke,Ar=Cr(()=>{ub=Ae(ds(),1);ms=65536;ps=class to{#e=[];#t="";#r=0;#n="transparent";constructor(t=[],n={}){if(typeof t!="object"||t===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof t[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof n!="object"&&typeof n!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");n===null&&(n={});let i=new TextEncoder;for(let s of t){let l;ArrayBuffer.isView(s)?l=new Uint8Array(s.buffer.slice(s.byteOffset,s.byteOffset+s.byteLength)):s instanceof ArrayBuffer?l=new Uint8Array(s.slice(0)):s instanceof to?l=s:l=i.encode(`${s}`);let c=ArrayBuffer.isView(l)?l.byteLength:l.size;c&&(this.#r+=c,this.#e.push(l))}this.#n=`${n.endings===void 0?"transparent":n.endings}`;let a=n.type===void 0?"":String(n.type);this.#t=/^[\x20-\x7E]*$/.test(a)?a:""}get size(){return this.#r}get type(){return this.#t}async text(){let t=new TextDecoder,n="";for await(let i of eo(this.#e,!1))n+=t.decode(i,{stream:!0});return n+=t.decode(),n}async arrayBuffer(){let t=new Uint8Array(this.size),n=0;for await(let i of eo(this.#e,!1))t.set(i,n),n+=i.length;return t.buffer}stream(){let t=eo(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(n){let i=await t.next();i.done?n.close():n.enqueue(i.value)},async cancel(){await t.return()}})}slice(t=0,n=this.size,i=""){let{size:a}=this,s=t<0?Math.max(a+t,0):Math.min(t,a),l=n<0?Math.max(a+n,0):Math.min(n,a),c=Math.max(l-s,0),d=this.#e,y=[],p=0;for(let S of d){if(p>=c)break;let h=ArrayBuffer.isView(S)?S.byteLength:S.size;if(s&&h<=s)s-=h,l-=h;else{let g;ArrayBuffer.isView(S)?(g=S.subarray(s,Math.min(h,l)),p+=g.byteLength):(g=S.slice(s,Math.min(h,l)),p+=g.size),l-=h,y.push(g),s=0}}let _=new to([],{type:String(i).toLowerCase()});return _.#r=c,_.#e=y,_}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](t){return t&&typeof t=="object"&&typeof t.constructor=="function"&&(typeof t.stream=="function"||typeof t.arrayBuffer=="function")&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}};Object.defineProperties(ps.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});xm=ps,Ke=xm});var Dm,Om,Yt,ro=Cr(()=>{Ar();Dm=class extends Ke{#e=0;#t="";constructor(t,n,i={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(t,i),i===null&&(i={});let a=i.lastModified===void 0?Date.now():Number(i.lastModified);Number.isNaN(a)||(this.#e=a),this.#t=String(n)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](t){return!!t&&t instanceof Ke&&/^(File)$/.test(t[Symbol.toStringTag])}},Om=Dm,Yt=Om});function gs(e,t=Ke){var n=`${hs()}${hs()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),i=[],a=`--${n}\r
Content-Disposition: form-data; name="`;return e.forEach((s,l)=>typeof s=="string"?i.push(a+no(l)+`"\r
\r
${s.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):i.push(a+no(l)+`"; filename="${no(s.name,1)}"\r
Content-Type: ${s.type||"application/octet-stream"}\r
\r
`,s,`\r
`)),i.push(`--${n}--`),new t(i,{type:"multipart/form-data; boundary="+n})}var kr,Im,Bm,hs,qm,ys,no,Ct,At,qn=Cr(()=>{Ar();ro();({toStringTag:kr,iterator:Im,hasInstance:Bm}=Symbol),hs=Math.random,qm="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),ys=(e,t,n)=>(e+="",/^(Blob|File)$/.test(t&&t[kr])?[(n=n!==void 0?n+"":t[kr]=="File"?t.name:"blob",e),t.name!==n||t[kr]=="blob"?new Yt([t],n,t):t]:[e,t+""]),no=(e,t)=>(t?e:e.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),Ct=(e,t,n)=>{if(t.length<n)throw new TypeError(`Failed to execute '${e}' on 'FormData': ${n} arguments required, but only ${t.length} present.`)},At=class{#e=[];constructor(...t){if(t.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[kr](){return"FormData"}[Im](){return this.entries()}static[Bm](t){return t&&typeof t=="object"&&t[kr]==="FormData"&&!qm.some(n=>typeof t[n]!="function")}append(...t){Ct("append",arguments,2),this.#e.push(ys(...t))}delete(t){Ct("delete",arguments,1),t+="",this.#e=this.#e.filter(([n])=>n!==t)}get(t){Ct("get",arguments,1),t+="";for(var n=this.#e,i=n.length,a=0;a<i;a++)if(n[a][0]===t)return n[a][1];return null}getAll(t,n){return Ct("getAll",arguments,1),n=[],t+="",this.#e.forEach(i=>i[0]===t&&n.push(i[1])),n}has(t){return Ct("has",arguments,1),t+="",this.#e.some(n=>n[0]===t)}forEach(t,n){Ct("forEach",arguments,1);for(var[i,a]of this)t.call(n,a,i,this)}set(...t){Ct("set",arguments,2);var n=[],i=!0;t=ys(...t),this.#e.forEach(a=>{a[0]===t[0]?i&&(i=!n.push(t)):n.push(a)}),i&&n.push(t),this.#e=n}*entries(){yield*this.#e}*keys(){for(var[t]of this)yield t}*values(){for(var[,t]of this)yield t}}});var Es=E((_b,_s)=>{if(!globalThis.DOMException)try{let{MessageChannel:e}=require("worker_threads"),t=new e().port1,n=new ArrayBuffer;t.postMessage(n,[n,n])}catch(e){e.constructor.name==="DOMException"&&(globalThis.DOMException=e.constructor)}_s.exports=globalThis.DOMException});var Dr,Rs,Wm,Fn,oo=Cr(()=>{Dr=require("node:fs"),Rs=Ae(Es(),1);ro();Ar();({stat:Wm}=Dr.promises),Fn=class{#e;#t;constructor(t){this.#e=t.path,this.#t=t.start,this.size=t.size,this.lastModified=t.lastModified,this.originalSize=t.originalSize===void 0?t.size:t.originalSize}slice(t,n){return new Fn({path:this.#e,lastModified:this.lastModified,originalSize:this.originalSize,size:n-t,start:this.#t+t})}async*stream(){let{mtimeMs:t,size:n}=await Wm(this.#e);if(t>this.lastModified||this.originalSize!==n)throw new Rs.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,Dr.createReadStream)(this.#e,{start:this.#t,end:this.#t+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}});var Ps={};ss(Ps,{toFormData:()=>jm});function zm(e){let t=e.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!t)return;let n=t[2]||t[3]||"",i=n.slice(n.lastIndexOf("\\")+1);return i=i.replace(/%22/g,'"'),i=i.replace(/&#(\d{4});/g,(a,s)=>String.fromCharCode(s)),i}async function jm(e,t){if(!/multipart/i.test(t))throw new TypeError("Failed to fetch");let n=t.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!n)throw new TypeError("no or bad content-type header, no multipart boundary");let i=new ao(n[1]||n[2]),a,s,l,c,d,y,p=[],_=new At,S=C=>{l+=R.decode(C,{stream:!0})},h=C=>{p.push(C)},g=()=>{let C=new Yt(p,y,{type:d});_.append(c,C)},T=()=>{_.append(c,l)},R=new TextDecoder("utf-8");R.decode(),i.onPartBegin=function(){i.onPartData=S,i.onPartEnd=T,a="",s="",l="",c="",d="",y=null,p.length=0},i.onHeaderField=function(C){a+=R.decode(C,{stream:!0})},i.onHeaderValue=function(C){s+=R.decode(C,{stream:!0})},i.onHeaderEnd=function(){if(s+=R.decode(),a=a.toLowerCase(),a==="content-disposition"){let C=s.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);C&&(c=C[2]||C[3]||""),y=zm(s),y&&(i.onPartData=h,i.onPartEnd=g)}else a==="content-type"&&(d=s);s="",a=""};for await(let C of e)i.write(C);return i.end(),_}var Me,U,Ts,ft,Ln,Nn,Fm,Or,Lm,Nm,$m,Mm,kt,ao,vs=Cr(()=>{oo();qn();Me=0,U={START_BOUNDARY:Me++,HEADER_FIELD_START:Me++,HEADER_FIELD:Me++,HEADER_VALUE_START:Me++,HEADER_VALUE:Me++,HEADER_VALUE_ALMOST_DONE:Me++,HEADERS_ALMOST_DONE:Me++,PART_DATA_START:Me++,PART_DATA:Me++,END:Me++},Ts=1,ft={PART_BOUNDARY:Ts,LAST_BOUNDARY:Ts*=2},Ln=10,Nn=13,Fm=32,Or=45,Lm=58,Nm=97,$m=122,Mm=e=>e|32,kt=()=>{},ao=class{constructor(t){this.index=0,this.flags=0,this.onHeaderEnd=kt,this.onHeaderField=kt,this.onHeadersEnd=kt,this.onHeaderValue=kt,this.onPartBegin=kt,this.onPartData=kt,this.onPartEnd=kt,this.boundaryChars={},t=`\r
--`+t;let n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i),this.boundaryChars[n[i]]=!0;this.boundary=n,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=U.START_BOUNDARY}write(t){let n=0,i=t.length,a=this.index,{lookbehind:s,boundary:l,boundaryChars:c,index:d,state:y,flags:p}=this,_=this.boundary.length,S=_-1,h=t.length,g,T,R=x=>{this[x+"Mark"]=n},C=x=>{delete this[x+"Mark"]},k=(x,$,I,ce)=>{($===void 0||$!==I)&&this[x](ce&&ce.subarray($,I))},X=(x,$)=>{let I=x+"Mark";I in this&&($?(k(x,this[I],n,t),delete this[I]):(k(x,this[I],t.length,t),this[I]=0))};for(n=0;n<i;n++)switch(g=t[n],y){case U.START_BOUNDARY:if(d===l.length-2){if(g===Or)p|=ft.LAST_BOUNDARY;else if(g!==Nn)return;d++;break}else if(d-1===l.length-2){if(p&ft.LAST_BOUNDARY&&g===Or)y=U.END,p=0;else if(!(p&ft.LAST_BOUNDARY)&&g===Ln)d=0,k("onPartBegin"),y=U.HEADER_FIELD_START;else return;break}g!==l[d+2]&&(d=-2),g===l[d+2]&&d++;break;case U.HEADER_FIELD_START:y=U.HEADER_FIELD,R("onHeaderField"),d=0;case U.HEADER_FIELD:if(g===Nn){C("onHeaderField"),y=U.HEADERS_ALMOST_DONE;break}if(d++,g===Or)break;if(g===Lm){if(d===1)return;X("onHeaderField",!0),y=U.HEADER_VALUE_START;break}if(T=Mm(g),T<Nm||T>$m)return;break;case U.HEADER_VALUE_START:if(g===Fm)break;R("onHeaderValue"),y=U.HEADER_VALUE;case U.HEADER_VALUE:g===Nn&&(X("onHeaderValue",!0),k("onHeaderEnd"),y=U.HEADER_VALUE_ALMOST_DONE);break;case U.HEADER_VALUE_ALMOST_DONE:if(g!==Ln)return;y=U.HEADER_FIELD_START;break;case U.HEADERS_ALMOST_DONE:if(g!==Ln)return;k("onHeadersEnd"),y=U.PART_DATA_START;break;case U.PART_DATA_START:y=U.PART_DATA,R("onPartData");case U.PART_DATA:if(a=d,d===0){for(n+=S;n<h&&!(t[n]in c);)n+=_;n-=S,g=t[n]}if(d<l.length)l[d]===g?(d===0&&X("onPartData",!0),d++):d=0;else if(d===l.length)d++,g===Nn?p|=ft.PART_BOUNDARY:g===Or?p|=ft.LAST_BOUNDARY:d=0;else if(d-1===l.length)if(p&ft.PART_BOUNDARY){if(d=0,g===Ln){p&=~ft.PART_BOUNDARY,k("onPartEnd"),k("onPartBegin"),y=U.HEADER_FIELD_START;break}}else p&ft.LAST_BOUNDARY&&g===Or?(k("onPartEnd"),y=U.END,p=0):d=0;if(d>0)s[d-1]=g;else if(a>0){let x=new Uint8Array(s.buffer,s.byteOffset,s.byteLength);k("onPartData",0,a,x),a=0,R("onPartData"),n--}break;case U.END:break;default:throw new Error(`Unexpected state entered: ${y}`)}X("onHeaderField"),X("onHeaderValue"),X("onPartData"),this.index=d,this.state=y,this.flags=p}end(){if(this.state===U.HEADER_FIELD_START&&this.index===0||this.state===U.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==U.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var we=E(fo=>{"use strict";fo.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((n,i)=>{e.call(this,...t,(a,s)=>a!=null?i(a):n(s))})},"name",{value:e.name})};fo.fromPromise=function(e){return Object.defineProperty(function(...t){let n=t[t.length-1];if(typeof n!="function")return e.apply(this,t);e.apply(this,t.slice(0,-1)).then(i=>n(null,i),n)},"name",{value:e.name})}});var Gs=E((pS,Us)=>{var mt=require("constants"),Km=process.cwd,jn=null,Jm=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return jn||(jn=Km.call(process)),jn};try{process.cwd()}catch{}typeof process.chdir=="function"&&(mo=process.chdir,process.chdir=function(e){jn=null,mo.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,mo));var mo;Us.exports=Zm;function Zm(e){mt.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||n(e),e.chown=s(e.chown),e.fchown=s(e.fchown),e.lchown=s(e.lchown),e.chmod=i(e.chmod),e.fchmod=i(e.fchmod),e.lchmod=i(e.lchmod),e.chownSync=l(e.chownSync),e.fchownSync=l(e.fchownSync),e.lchownSync=l(e.lchownSync),e.chmodSync=a(e.chmodSync),e.fchmodSync=a(e.fchmodSync),e.lchmodSync=a(e.lchmodSync),e.stat=c(e.stat),e.fstat=c(e.fstat),e.lstat=c(e.lstat),e.statSync=d(e.statSync),e.fstatSync=d(e.fstatSync),e.lstatSync=d(e.lstatSync),e.lchmod||(e.lchmod=function(p,_,S){S&&process.nextTick(S)},e.lchmodSync=function(){}),e.lchown||(e.lchown=function(p,_,S,h){h&&process.nextTick(h)},e.lchownSync=function(){}),Jm==="win32"&&(e.rename=function(p){return function(_,S,h){var g=Date.now(),T=0;p(_,S,function R(C){if(C&&(C.code==="EACCES"||C.code==="EPERM")&&Date.now()-g<6e4){setTimeout(function(){e.stat(S,function(k,X){k&&k.code==="ENOENT"?p(_,S,R):h(C)})},T),T<100&&(T+=10);return}h&&h(C)})}}(e.rename)),e.read=function(p){function _(S,h,g,T,R,C){var k;if(C&&typeof C=="function"){var X=0;k=function(x,$,I){if(x&&x.code==="EAGAIN"&&X<10)return X++,p.call(e,S,h,g,T,R,k);C.apply(this,arguments)}}return p.call(e,S,h,g,T,R,k)}return Object.setPrototypeOf&&Object.setPrototypeOf(_,p),_}(e.read),e.readSync=function(p){return function(_,S,h,g,T){for(var R=0;;)try{return p.call(e,_,S,h,g,T)}catch(C){if(C.code==="EAGAIN"&&R<10){R++;continue}throw C}}}(e.readSync);function t(p){p.lchmod=function(_,S,h){p.open(_,mt.O_WRONLY|mt.O_SYMLINK,S,function(g,T){if(g){h&&h(g);return}p.fchmod(T,S,function(R){p.close(T,function(C){h&&h(R||C)})})})},p.lchmodSync=function(_,S){var h=p.openSync(_,mt.O_WRONLY|mt.O_SYMLINK,S),g=!0,T;try{T=p.fchmodSync(h,S),g=!1}finally{if(g)try{p.closeSync(h)}catch{}else p.closeSync(h)}return T}}function n(p){mt.hasOwnProperty("O_SYMLINK")?(p.lutimes=function(_,S,h,g){p.open(_,mt.O_SYMLINK,function(T,R){if(T){g&&g(T);return}p.futimes(R,S,h,function(C){p.close(R,function(k){g&&g(C||k)})})})},p.lutimesSync=function(_,S,h){var g=p.openSync(_,mt.O_SYMLINK),T,R=!0;try{T=p.futimesSync(g,S,h),R=!1}finally{if(R)try{p.closeSync(g)}catch{}else p.closeSync(g)}return T}):(p.lutimes=function(_,S,h,g){g&&process.nextTick(g)},p.lutimesSync=function(){})}function i(p){return p&&function(_,S,h){return p.call(e,_,S,function(g){y(g)&&(g=null),h&&h.apply(this,arguments)})}}function a(p){return p&&function(_,S){try{return p.call(e,_,S)}catch(h){if(!y(h))throw h}}}function s(p){return p&&function(_,S,h,g){return p.call(e,_,S,h,function(T){y(T)&&(T=null),g&&g.apply(this,arguments)})}}function l(p){return p&&function(_,S,h){try{return p.call(e,_,S,h)}catch(g){if(!y(g))throw g}}}function c(p){return p&&function(_,S,h){typeof S=="function"&&(h=S,S=null);function g(T,R){R&&(R.uid<0&&(R.uid+=4294967296),R.gid<0&&(R.gid+=4294967296)),h&&h.apply(this,arguments)}return S?p.call(e,_,S,g):p.call(e,_,g)}}function d(p){return p&&function(_,S){var h=S?p.call(e,_,S):p.call(e,_);return h&&(h.uid<0&&(h.uid+=4294967296),h.gid<0&&(h.gid+=4294967296)),h}}function y(p){if(!p||p.code==="ENOSYS")return!0;var _=!process.getuid||process.getuid()!==0;return!!(_&&(p.code==="EINVAL"||p.code==="EPERM"))}}});var Ys=E((hS,Vs)=>{var Hs=require("stream").Stream;Vs.exports=ep;function ep(e){return{ReadStream:t,WriteStream:n};function t(i,a){if(!(this instanceof t))return new t(i,a);Hs.call(this);var s=this;this.path=i,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,a=a||{};for(var l=Object.keys(a),c=0,d=l.length;c<d;c++){var y=l[c];this[y]=a[y]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}e.open(this.path,this.flags,this.mode,function(p,_){if(p){s.emit("error",p),s.readable=!1;return}s.fd=_,s.emit("open",_),s._read()})}function n(i,a){if(!(this instanceof n))return new n(i,a);Hs.call(this),this.path=i,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,a=a||{};for(var s=Object.keys(a),l=0,c=s.length;l<c;l++){var d=s[l];this[d]=a[d]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var Xs=E((yS,Qs)=>{"use strict";Qs.exports=rp;var tp=Object.getPrototypeOf||function(e){return e.__proto__};function rp(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:tp(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}),t}});var de=E((gS,yo)=>{var Y=require("fs"),np=Gs(),ip=Ys(),op=Xs(),Un=require("util"),se,Hn;typeof Symbol=="function"&&typeof Symbol.for=="function"?(se=Symbol.for("graceful-fs.queue"),Hn=Symbol.for("graceful-fs.previous")):(se="___graceful-fs.queue",Hn="___graceful-fs.previous");function ap(){}function Zs(e,t){Object.defineProperty(e,se,{get:function(){return t}})}var Dt=ap;Un.debuglog?Dt=Un.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Dt=function(){var e=Un.format.apply(Un,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});Y[se]||(Ks=global[se]||[],Zs(Y,Ks),Y.close=function(e){function t(n,i){return e.call(Y,n,function(a){a||Js(),typeof i=="function"&&i.apply(this,arguments)})}return Object.defineProperty(t,Hn,{value:e}),t}(Y.close),Y.closeSync=function(e){function t(n){e.apply(Y,arguments),Js()}return Object.defineProperty(t,Hn,{value:e}),t}(Y.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Dt(Y[se]),require("assert").equal(Y[se].length,0)}));var Ks;global[se]||Zs(global,Y[se]);yo.exports=po(op(Y));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Y.__patched&&(yo.exports=po(Y),Y.__patched=!0);function po(e){np(e),e.gracefulify=po,e.createReadStream=x,e.createWriteStream=$;var t=e.readFile;e.readFile=n;function n(v,W,B){return typeof W=="function"&&(B=W,W=null),M(v,W,B);function M(H,Z,K,ae){return t(H,Z,function(N){N&&(N.code==="EMFILE"||N.code==="ENFILE")?Jt([M,[H,Z,K],N,ae||Date.now(),Date.now()]):typeof K=="function"&&K.apply(this,arguments)})}}var i=e.writeFile;e.writeFile=a;function a(v,W,B,M){return typeof B=="function"&&(M=B,B=null),H(v,W,B,M);function H(Z,K,ae,N,pe){return i(Z,K,ae,function(J){J&&(J.code==="EMFILE"||J.code==="ENFILE")?Jt([H,[Z,K,ae,N],J,pe||Date.now(),Date.now()]):typeof N=="function"&&N.apply(this,arguments)})}}var s=e.appendFile;s&&(e.appendFile=l);function l(v,W,B,M){return typeof B=="function"&&(M=B,B=null),H(v,W,B,M);function H(Z,K,ae,N,pe){return s(Z,K,ae,function(J){J&&(J.code==="EMFILE"||J.code==="ENFILE")?Jt([H,[Z,K,ae,N],J,pe||Date.now(),Date.now()]):typeof N=="function"&&N.apply(this,arguments)})}}var c=e.copyFile;c&&(e.copyFile=d);function d(v,W,B,M){return typeof B=="function"&&(M=B,B=0),H(v,W,B,M);function H(Z,K,ae,N,pe){return c(Z,K,ae,function(J){J&&(J.code==="EMFILE"||J.code==="ENFILE")?Jt([H,[Z,K,ae,N],J,pe||Date.now(),Date.now()]):typeof N=="function"&&N.apply(this,arguments)})}}var y=e.readdir;e.readdir=p;function p(v,W,B){return typeof W=="function"&&(B=W,W=null),M(v,W,B);function M(H,Z,K,ae){return y(H,Z,function(N,pe){N&&(N.code==="EMFILE"||N.code==="ENFILE")?Jt([M,[H,Z,K],N,ae||Date.now(),Date.now()]):(pe&&pe.sort&&pe.sort(),typeof K=="function"&&K.call(this,N,pe))})}}if(process.version.substr(0,4)==="v0.8"){var _=ip(e);R=_.ReadStream,k=_.WriteStream}var S=e.ReadStream;S&&(R.prototype=Object.create(S.prototype),R.prototype.open=C);var h=e.WriteStream;h&&(k.prototype=Object.create(h.prototype),k.prototype.open=X),Object.defineProperty(e,"ReadStream",{get:function(){return R},set:function(v){R=v},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return k},set:function(v){k=v},enumerable:!0,configurable:!0});var g=R;Object.defineProperty(e,"FileReadStream",{get:function(){return g},set:function(v){g=v},enumerable:!0,configurable:!0});var T=k;Object.defineProperty(e,"FileWriteStream",{get:function(){return T},set:function(v){T=v},enumerable:!0,configurable:!0});function R(v,W){return this instanceof R?(S.apply(this,arguments),this):R.apply(Object.create(R.prototype),arguments)}function C(){var v=this;ce(v.path,v.flags,v.mode,function(W,B){W?(v.autoClose&&v.destroy(),v.emit("error",W)):(v.fd=B,v.emit("open",B),v.read())})}function k(v,W){return this instanceof k?(h.apply(this,arguments),this):k.apply(Object.create(k.prototype),arguments)}function X(){var v=this;ce(v.path,v.flags,v.mode,function(W,B){W?(v.destroy(),v.emit("error",W)):(v.fd=B,v.emit("open",B))})}function x(v,W){return new e.ReadStream(v,W)}function $(v,W){return new e.WriteStream(v,W)}var I=e.open;e.open=ce;function ce(v,W,B,M){return typeof B=="function"&&(M=B,B=null),H(v,W,B,M);function H(Z,K,ae,N,pe){return I(Z,K,ae,function(J,Ti){J&&(J.code==="EMFILE"||J.code==="ENFILE")?Jt([H,[Z,K,ae,N],J,pe||Date.now(),Date.now()]):typeof N=="function"&&N.apply(this,arguments)})}}return e}function Jt(e){Dt("ENQUEUE",e[0].name,e[1]),Y[se].push(e),ho()}var Gn;function Js(){for(var e=Date.now(),t=0;t<Y[se].length;++t)Y[se][t].length>2&&(Y[se][t][3]=e,Y[se][t][4]=e);ho()}function ho(){if(clearTimeout(Gn),Gn=void 0,Y[se].length!==0){var e=Y[se].shift(),t=e[0],n=e[1],i=e[2],a=e[3],s=e[4];if(a===void 0)Dt("RETRY",t.name,n),t.apply(null,n);else if(Date.now()-a>=6e4){Dt("TIMEOUT",t.name,n);var l=n.pop();typeof l=="function"&&l.call(null,i)}else{var c=Date.now()-s,d=Math.max(s-a,1),y=Math.min(d*1.2,100);c>=y?(Dt("RETRY",t.name,n),t.apply(null,n.concat([a]))):Y[se].push(e)}Gn===void 0&&(Gn=setTimeout(ho,0))}}});var Ot=E(pt=>{"use strict";var eu=we().fromCallback,_e=de(),sp=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>typeof _e[e]=="function");Object.assign(pt,_e);sp.forEach(e=>{pt[e]=eu(_e[e])});pt.exists=function(e,t){return typeof t=="function"?_e.exists(e,t):new Promise(n=>_e.exists(e,n))};pt.read=function(e,t,n,i,a,s){return typeof s=="function"?_e.read(e,t,n,i,a,s):new Promise((l,c)=>{_e.read(e,t,n,i,a,(d,y,p)=>{if(d)return c(d);l({bytesRead:y,buffer:p})})})};pt.write=function(e,t,...n){return typeof n[n.length-1]=="function"?_e.write(e,t,...n):new Promise((i,a)=>{_e.write(e,t,...n,(s,l,c)=>{if(s)return a(s);i({bytesWritten:l,buffer:c})})})};typeof _e.writev=="function"&&(pt.writev=function(e,t,...n){return typeof n[n.length-1]=="function"?_e.writev(e,t,...n):new Promise((i,a)=>{_e.writev(e,t,...n,(s,l,c)=>{if(s)return a(s);i({bytesWritten:l,buffers:c})})})});typeof _e.realpath.native=="function"?pt.realpath.native=eu(_e.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var ru=E((SS,tu)=>{"use strict";var up=require("path");tu.exports.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(up.parse(t).root,""))){let i=new Error(`Path contains invalid characters: ${t}`);throw i.code="EINVAL",i}}});var au=E((wS,go)=>{"use strict";var nu=Ot(),{checkPath:iu}=ru(),ou=e=>{let t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};go.exports.makeDir=async(e,t)=>(iu(e),nu.mkdir(e,{mode:ou(t),recursive:!0}));go.exports.makeDirSync=(e,t)=>(iu(e),nu.mkdirSync(e,{mode:ou(t),recursive:!0}))});var We=E((_S,su)=>{"use strict";var lp=we().fromPromise,{makeDir:cp,makeDirSync:bo}=au(),So=lp(cp);su.exports={mkdirs:So,mkdirsSync:bo,mkdirp:So,mkdirpSync:bo,ensureDir:So,ensureDirSync:bo}});var ht=E((ES,lu)=>{"use strict";var fp=we().fromPromise,uu=Ot();function dp(e){return uu.access(e).then(()=>!0).catch(()=>!1)}lu.exports={pathExists:fp(dp),pathExistsSync:uu.existsSync}});var wo=E((RS,cu)=>{"use strict";var Zt=de();function mp(e,t,n,i){Zt.open(e,"r+",(a,s)=>{if(a)return i(a);Zt.futimes(s,t,n,l=>{Zt.close(s,c=>{i&&i(l||c)})})})}function pp(e,t,n){let i=Zt.openSync(e,"r+");return Zt.futimesSync(i,t,n),Zt.closeSync(i)}cu.exports={utimesMillis:mp,utimesMillisSync:pp}});var It=E((TS,mu)=>{"use strict";var er=Ot(),ne=require("path"),hp=require("util");function yp(e,t,n){let i=n.dereference?a=>er.stat(a,{bigint:!0}):a=>er.lstat(a,{bigint:!0});return Promise.all([i(e),i(t).catch(a=>{if(a.code==="ENOENT")return null;throw a})]).then(([a,s])=>({srcStat:a,destStat:s}))}function gp(e,t,n){let i,a=n.dereference?l=>er.statSync(l,{bigint:!0}):l=>er.lstatSync(l,{bigint:!0}),s=a(e);try{i=a(t)}catch(l){if(l.code==="ENOENT")return{srcStat:s,destStat:null};throw l}return{srcStat:s,destStat:i}}function bp(e,t,n,i,a){hp.callbackify(yp)(e,t,i,(s,l)=>{if(s)return a(s);let{srcStat:c,destStat:d}=l;if(d){if(Wr(c,d)){let y=ne.basename(e),p=ne.basename(t);return n==="move"&&y!==p&&y.toLowerCase()===p.toLowerCase()?a(null,{srcStat:c,destStat:d,isChangingCase:!0}):a(new Error("Source and destination must not be the same."))}if(c.isDirectory()&&!d.isDirectory())return a(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!c.isDirectory()&&d.isDirectory())return a(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return c.isDirectory()&&_o(e,t)?a(new Error(Vn(e,t,n))):a(null,{srcStat:c,destStat:d})})}function Sp(e,t,n,i){let{srcStat:a,destStat:s}=gp(e,t,i);if(s){if(Wr(a,s)){let l=ne.basename(e),c=ne.basename(t);if(n==="move"&&l!==c&&l.toLowerCase()===c.toLowerCase())return{srcStat:a,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(a.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!a.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(a.isDirectory()&&_o(e,t))throw new Error(Vn(e,t,n));return{srcStat:a,destStat:s}}function fu(e,t,n,i,a){let s=ne.resolve(ne.dirname(e)),l=ne.resolve(ne.dirname(n));if(l===s||l===ne.parse(l).root)return a();er.stat(l,{bigint:!0},(c,d)=>c?c.code==="ENOENT"?a():a(c):Wr(t,d)?a(new Error(Vn(e,n,i))):fu(e,t,l,i,a))}function du(e,t,n,i){let a=ne.resolve(ne.dirname(e)),s=ne.resolve(ne.dirname(n));if(s===a||s===ne.parse(s).root)return;let l;try{l=er.statSync(s,{bigint:!0})}catch(c){if(c.code==="ENOENT")return;throw c}if(Wr(t,l))throw new Error(Vn(e,n,i));return du(e,t,s,i)}function Wr(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function _o(e,t){let n=ne.resolve(e).split(ne.sep).filter(a=>a),i=ne.resolve(t).split(ne.sep).filter(a=>a);return n.reduce((a,s,l)=>a&&i[l]===s,!0)}function Vn(e,t,n){return`Cannot ${n} '${e}' to a subdirectory of itself, '${t}'.`}mu.exports={checkPaths:bp,checkPathsSync:Sp,checkParentPaths:fu,checkParentPathsSync:du,isSrcSubdir:_o,areIdentical:Wr}});var _u=E((PS,wu)=>{"use strict";var Ee=de(),Fr=require("path"),wp=We().mkdirs,_p=ht().pathExists,Ep=wo().utimesMillis,Lr=It();function Rp(e,t,n,i){typeof n=="function"&&!i?(i=n,n={}):typeof n=="function"&&(n={filter:n}),i=i||function(){},n=n||{},n.clobber="clobber"in n?!!n.clobber:!0,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),Lr.checkPaths(e,t,"copy",n,(a,s)=>{if(a)return i(a);let{srcStat:l,destStat:c}=s;Lr.checkParentPaths(e,l,t,"copy",d=>d?i(d):n.filter?yu(pu,c,e,t,n,i):pu(c,e,t,n,i))})}function pu(e,t,n,i,a){let s=Fr.dirname(n);_p(s,(l,c)=>{if(l)return a(l);if(c)return Yn(e,t,n,i,a);wp(s,d=>d?a(d):Yn(e,t,n,i,a))})}function yu(e,t,n,i,a,s){Promise.resolve(a.filter(n,i)).then(l=>l?e(t,n,i,a,s):s(),l=>s(l))}function Tp(e,t,n,i,a){return i.filter?yu(Yn,e,t,n,i,a):Yn(e,t,n,i,a)}function Yn(e,t,n,i,a){(i.dereference?Ee.stat:Ee.lstat)(t,(l,c)=>l?a(l):c.isDirectory()?Dp(c,e,t,n,i,a):c.isFile()||c.isCharacterDevice()||c.isBlockDevice()?Pp(c,e,t,n,i,a):c.isSymbolicLink()?Bp(e,t,n,i,a):c.isSocket()?a(new Error(`Cannot copy a socket file: ${t}`)):c.isFIFO()?a(new Error(`Cannot copy a FIFO pipe: ${t}`)):a(new Error(`Unknown file: ${t}`)))}function Pp(e,t,n,i,a,s){return t?vp(e,n,i,a,s):gu(e,n,i,a,s)}function vp(e,t,n,i,a){if(i.overwrite)Ee.unlink(n,s=>s?a(s):gu(e,t,n,i,a));else return i.errorOnExist?a(new Error(`'${n}' already exists`)):a()}function gu(e,t,n,i,a){Ee.copyFile(t,n,s=>s?a(s):i.preserveTimestamps?Cp(e.mode,t,n,a):Qn(n,e.mode,a))}function Cp(e,t,n,i){return Ap(e)?kp(n,e,a=>a?i(a):hu(e,t,n,i)):hu(e,t,n,i)}function Ap(e){return(e&128)===0}function kp(e,t,n){return Qn(e,t|128,n)}function hu(e,t,n,i){xp(t,n,a=>a?i(a):Qn(n,e,i))}function Qn(e,t,n){return Ee.chmod(e,t,n)}function xp(e,t,n){Ee.stat(e,(i,a)=>i?n(i):Ep(t,a.atime,a.mtime,n))}function Dp(e,t,n,i,a,s){return t?bu(n,i,a,s):Op(e.mode,n,i,a,s)}function Op(e,t,n,i,a){Ee.mkdir(n,s=>{if(s)return a(s);bu(t,n,i,l=>l?a(l):Qn(n,e,a))})}function bu(e,t,n,i){Ee.readdir(e,(a,s)=>a?i(a):Su(s,e,t,n,i))}function Su(e,t,n,i,a){let s=e.pop();return s?Ip(e,s,t,n,i,a):a()}function Ip(e,t,n,i,a,s){let l=Fr.join(n,t),c=Fr.join(i,t);Lr.checkPaths(l,c,"copy",a,(d,y)=>{if(d)return s(d);let{destStat:p}=y;Tp(p,l,c,a,_=>_?s(_):Su(e,n,i,a,s))})}function Bp(e,t,n,i,a){Ee.readlink(t,(s,l)=>{if(s)return a(s);if(i.dereference&&(l=Fr.resolve(process.cwd(),l)),e)Ee.readlink(n,(c,d)=>c?c.code==="EINVAL"||c.code==="UNKNOWN"?Ee.symlink(l,n,a):a(c):(i.dereference&&(d=Fr.resolve(process.cwd(),d)),Lr.isSrcSubdir(l,d)?a(new Error(`Cannot copy '${l}' to a subdirectory of itself, '${d}'.`)):e.isDirectory()&&Lr.isSrcSubdir(d,l)?a(new Error(`Cannot overwrite '${d}' with '${l}'.`)):qp(l,n,a)));else return Ee.symlink(l,n,a)})}function qp(e,t,n){Ee.unlink(t,i=>i?n(i):Ee.symlink(e,t,n))}wu.exports=Rp});var vu=E((vS,Pu)=>{"use strict";var le=de(),Nr=require("path"),Wp=We().mkdirsSync,Fp=wo().utimesMillisSync,$r=It();function Lp(e,t,n){typeof n=="function"&&(n={filter:n}),n=n||{},n.clobber="clobber"in n?!!n.clobber:!0,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");let{srcStat:i,destStat:a}=$r.checkPathsSync(e,t,"copy",n);return $r.checkParentPathsSync(e,i,t,"copy"),Np(a,e,t,n)}function Np(e,t,n,i){if(i.filter&&!i.filter(t,n))return;let a=Nr.dirname(n);return le.existsSync(a)||Wp(a),Eu(e,t,n,i)}function $p(e,t,n,i){if(!(i.filter&&!i.filter(t,n)))return Eu(e,t,n,i)}function Eu(e,t,n,i){let s=(i.dereference?le.statSync:le.lstatSync)(t);if(s.isDirectory())return Vp(s,e,t,n,i);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return Mp(s,e,t,n,i);if(s.isSymbolicLink())return Xp(e,t,n,i);throw s.isSocket()?new Error(`Cannot copy a socket file: ${t}`):s.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function Mp(e,t,n,i,a){return t?zp(e,n,i,a):Ru(e,n,i,a)}function zp(e,t,n,i){if(i.overwrite)return le.unlinkSync(n),Ru(e,t,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}function Ru(e,t,n,i){return le.copyFileSync(t,n),i.preserveTimestamps&&jp(e.mode,t,n),Eo(n,e.mode)}function jp(e,t,n){return Up(e)&&Gp(n,e),Hp(t,n)}function Up(e){return(e&128)===0}function Gp(e,t){return Eo(e,t|128)}function Eo(e,t){return le.chmodSync(e,t)}function Hp(e,t){let n=le.statSync(e);return Fp(t,n.atime,n.mtime)}function Vp(e,t,n,i,a){return t?Tu(n,i,a):Yp(e.mode,n,i,a)}function Yp(e,t,n,i){return le.mkdirSync(n),Tu(t,n,i),Eo(n,e)}function Tu(e,t,n){le.readdirSync(e).forEach(i=>Qp(i,e,t,n))}function Qp(e,t,n,i){let a=Nr.join(t,e),s=Nr.join(n,e),{destStat:l}=$r.checkPathsSync(a,s,"copy",i);return $p(l,a,s,i)}function Xp(e,t,n,i){let a=le.readlinkSync(t);if(i.dereference&&(a=Nr.resolve(process.cwd(),a)),e){let s;try{s=le.readlinkSync(n)}catch(l){if(l.code==="EINVAL"||l.code==="UNKNOWN")return le.symlinkSync(a,n);throw l}if(i.dereference&&(s=Nr.resolve(process.cwd(),s)),$r.isSrcSubdir(a,s))throw new Error(`Cannot copy '${a}' to a subdirectory of itself, '${s}'.`);if(le.statSync(n).isDirectory()&&$r.isSrcSubdir(s,a))throw new Error(`Cannot overwrite '${s}' with '${a}'.`);return Kp(a,n)}else return le.symlinkSync(a,n)}function Kp(e,t){return le.unlinkSync(t),le.symlinkSync(e,t)}Pu.exports=Lp});var Xn=E((CS,Cu)=>{"use strict";var Jp=we().fromCallback;Cu.exports={copy:Jp(_u()),copySync:vu()}});var Wu=E((AS,qu)=>{"use strict";var Au=de(),Ou=require("path"),z=require("assert"),Mr=process.platform==="win32";function Iu(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(n=>{e[n]=e[n]||Au[n],n=n+"Sync",e[n]=e[n]||Au[n]}),e.maxBusyTries=e.maxBusyTries||3}function Ro(e,t,n){let i=0;typeof t=="function"&&(n=t,t={}),z(e,"rimraf: missing path"),z.strictEqual(typeof e,"string","rimraf: path should be a string"),z.strictEqual(typeof n,"function","rimraf: callback function required"),z(t,"rimraf: invalid options argument provided"),z.strictEqual(typeof t,"object","rimraf: options should be object"),Iu(t),ku(e,t,function a(s){if(s){if((s.code==="EBUSY"||s.code==="ENOTEMPTY"||s.code==="EPERM")&&i<t.maxBusyTries){i++;let l=i*100;return setTimeout(()=>ku(e,t,a),l)}s.code==="ENOENT"&&(s=null)}n(s)})}function ku(e,t,n){z(e),z(t),z(typeof n=="function"),t.lstat(e,(i,a)=>{if(i&&i.code==="ENOENT")return n(null);if(i&&i.code==="EPERM"&&Mr)return xu(e,t,i,n);if(a&&a.isDirectory())return Kn(e,t,i,n);t.unlink(e,s=>{if(s){if(s.code==="ENOENT")return n(null);if(s.code==="EPERM")return Mr?xu(e,t,s,n):Kn(e,t,s,n);if(s.code==="EISDIR")return Kn(e,t,s,n)}return n(s)})})}function xu(e,t,n,i){z(e),z(t),z(typeof i=="function"),t.chmod(e,438,a=>{a?i(a.code==="ENOENT"?null:n):t.stat(e,(s,l)=>{s?i(s.code==="ENOENT"?null:n):l.isDirectory()?Kn(e,t,n,i):t.unlink(e,i)})})}function Du(e,t,n){let i;z(e),z(t);try{t.chmodSync(e,438)}catch(a){if(a.code==="ENOENT")return;throw n}try{i=t.statSync(e)}catch(a){if(a.code==="ENOENT")return;throw n}i.isDirectory()?Jn(e,t,n):t.unlinkSync(e)}function Kn(e,t,n,i){z(e),z(t),z(typeof i=="function"),t.rmdir(e,a=>{a&&(a.code==="ENOTEMPTY"||a.code==="EEXIST"||a.code==="EPERM")?Zp(e,t,i):a&&a.code==="ENOTDIR"?i(n):i(a)})}function Zp(e,t,n){z(e),z(t),z(typeof n=="function"),t.readdir(e,(i,a)=>{if(i)return n(i);let s=a.length,l;if(s===0)return t.rmdir(e,n);a.forEach(c=>{Ro(Ou.join(e,c),t,d=>{if(!l){if(d)return n(l=d);--s===0&&t.rmdir(e,n)}})})})}function Bu(e,t){let n;t=t||{},Iu(t),z(e,"rimraf: missing path"),z.strictEqual(typeof e,"string","rimraf: path should be a string"),z(t,"rimraf: missing options"),z.strictEqual(typeof t,"object","rimraf: options should be object");try{n=t.lstatSync(e)}catch(i){if(i.code==="ENOENT")return;i.code==="EPERM"&&Mr&&Du(e,t,i)}try{n&&n.isDirectory()?Jn(e,t,null):t.unlinkSync(e)}catch(i){if(i.code==="ENOENT")return;if(i.code==="EPERM")return Mr?Du(e,t,i):Jn(e,t,i);if(i.code!=="EISDIR")throw i;Jn(e,t,i)}}function Jn(e,t,n){z(e),z(t);try{t.rmdirSync(e)}catch(i){if(i.code==="ENOTDIR")throw n;if(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")eh(e,t);else if(i.code!=="ENOENT")throw i}}function eh(e,t){if(z(e),z(t),t.readdirSync(e).forEach(n=>Bu(Ou.join(e,n),t)),Mr){let n=Date.now();do try{return t.rmdirSync(e,t)}catch{}while(Date.now()-n<500)}else return t.rmdirSync(e,t)}qu.exports=Ro;Ro.sync=Bu});var zr=E((kS,Lu)=>{"use strict";var Zn=de(),th=we().fromCallback,Fu=Wu();function rh(e,t){if(Zn.rm)return Zn.rm(e,{recursive:!0,force:!0},t);Fu(e,t)}function nh(e){if(Zn.rmSync)return Zn.rmSync(e,{recursive:!0,force:!0});Fu.sync(e)}Lu.exports={remove:th(rh),removeSync:nh}});var Hu=E((xS,Gu)=>{"use strict";var ih=we().fromPromise,Mu=Ot(),zu=require("path"),ju=We(),Uu=zr(),Nu=ih(async function(t){let n;try{n=await Mu.readdir(t)}catch{return ju.mkdirs(t)}return Promise.all(n.map(i=>Uu.remove(zu.join(t,i))))});function $u(e){let t;try{t=Mu.readdirSync(e)}catch{return ju.mkdirsSync(e)}t.forEach(n=>{n=zu.join(e,n),Uu.removeSync(n)})}Gu.exports={emptyDirSync:$u,emptydirSync:$u,emptyDir:Nu,emptydir:Nu}});var Xu=E((DS,Qu)=>{"use strict";var oh=we().fromCallback,Vu=require("path"),yt=de(),Yu=We();function ah(e,t){function n(){yt.writeFile(e,"",i=>{if(i)return t(i);t()})}yt.stat(e,(i,a)=>{if(!i&&a.isFile())return t();let s=Vu.dirname(e);yt.stat(s,(l,c)=>{if(l)return l.code==="ENOENT"?Yu.mkdirs(s,d=>{if(d)return t(d);n()}):t(l);c.isDirectory()?n():yt.readdir(s,d=>{if(d)return t(d)})})})}function sh(e){let t;try{t=yt.statSync(e)}catch{}if(t&&t.isFile())return;let n=Vu.dirname(e);try{yt.statSync(n).isDirectory()||yt.readdirSync(n)}catch(i){if(i&&i.code==="ENOENT")Yu.mkdirsSync(n);else throw i}yt.writeFileSync(e,"")}Qu.exports={createFile:oh(ah),createFileSync:sh}});var tl=E((OS,el)=>{"use strict";var uh=we().fromCallback,Ku=require("path"),gt=de(),Ju=We(),lh=ht().pathExists,{areIdentical:Zu}=It();function ch(e,t,n){function i(a,s){gt.link(a,s,l=>{if(l)return n(l);n(null)})}gt.lstat(t,(a,s)=>{gt.lstat(e,(l,c)=>{if(l)return l.message=l.message.replace("lstat","ensureLink"),n(l);if(s&&Zu(c,s))return n(null);let d=Ku.dirname(t);lh(d,(y,p)=>{if(y)return n(y);if(p)return i(e,t);Ju.mkdirs(d,_=>{if(_)return n(_);i(e,t)})})})})}function fh(e,t){let n;try{n=gt.lstatSync(t)}catch{}try{let s=gt.lstatSync(e);if(n&&Zu(s,n))return}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}let i=Ku.dirname(t);return gt.existsSync(i)||Ju.mkdirsSync(i),gt.linkSync(e,t)}el.exports={createLink:uh(ch),createLinkSync:fh}});var nl=E((IS,rl)=>{"use strict";var bt=require("path"),jr=de(),dh=ht().pathExists;function mh(e,t,n){if(bt.isAbsolute(e))return jr.lstat(e,i=>i?(i.message=i.message.replace("lstat","ensureSymlink"),n(i)):n(null,{toCwd:e,toDst:e}));{let i=bt.dirname(t),a=bt.join(i,e);return dh(a,(s,l)=>s?n(s):l?n(null,{toCwd:a,toDst:e}):jr.lstat(e,c=>c?(c.message=c.message.replace("lstat","ensureSymlink"),n(c)):n(null,{toCwd:e,toDst:bt.relative(i,e)})))}}function ph(e,t){let n;if(bt.isAbsolute(e)){if(n=jr.existsSync(e),!n)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}else{let i=bt.dirname(t),a=bt.join(i,e);if(n=jr.existsSync(a),n)return{toCwd:a,toDst:e};if(n=jr.existsSync(e),!n)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:bt.relative(i,e)}}}rl.exports={symlinkPaths:mh,symlinkPathsSync:ph}});var al=E((BS,ol)=>{"use strict";var il=de();function hh(e,t,n){if(n=typeof t=="function"?t:n,t=typeof t=="function"?!1:t,t)return n(null,t);il.lstat(e,(i,a)=>{if(i)return n(null,"file");t=a&&a.isDirectory()?"dir":"file",n(null,t)})}function yh(e,t){let n;if(t)return t;try{n=il.lstatSync(e)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}ol.exports={symlinkType:hh,symlinkTypeSync:yh}});var pl=E((qS,ml)=>{"use strict";var gh=we().fromCallback,ul=require("path"),Fe=Ot(),ll=We(),bh=ll.mkdirs,Sh=ll.mkdirsSync,cl=nl(),wh=cl.symlinkPaths,_h=cl.symlinkPathsSync,fl=al(),Eh=fl.symlinkType,Rh=fl.symlinkTypeSync,Th=ht().pathExists,{areIdentical:dl}=It();function Ph(e,t,n,i){i=typeof n=="function"?n:i,n=typeof n=="function"?!1:n,Fe.lstat(t,(a,s)=>{!a&&s.isSymbolicLink()?Promise.all([Fe.stat(e),Fe.stat(t)]).then(([l,c])=>{if(dl(l,c))return i(null);sl(e,t,n,i)}):sl(e,t,n,i)})}function sl(e,t,n,i){wh(e,t,(a,s)=>{if(a)return i(a);e=s.toDst,Eh(s.toCwd,n,(l,c)=>{if(l)return i(l);let d=ul.dirname(t);Th(d,(y,p)=>{if(y)return i(y);if(p)return Fe.symlink(e,t,c,i);bh(d,_=>{if(_)return i(_);Fe.symlink(e,t,c,i)})})})})}function vh(e,t,n){let i;try{i=Fe.lstatSync(t)}catch{}if(i&&i.isSymbolicLink()){let c=Fe.statSync(e),d=Fe.statSync(t);if(dl(c,d))return}let a=_h(e,t);e=a.toDst,n=Rh(a.toCwd,n);let s=ul.dirname(t);return Fe.existsSync(s)||Sh(s),Fe.symlinkSync(e,t,n)}ml.exports={createSymlink:gh(Ph),createSymlinkSync:vh}});var El=E((WS,_l)=>{"use strict";var{createFile:hl,createFileSync:yl}=Xu(),{createLink:gl,createLinkSync:bl}=tl(),{createSymlink:Sl,createSymlinkSync:wl}=pl();_l.exports={createFile:hl,createFileSync:yl,ensureFile:hl,ensureFileSync:yl,createLink:gl,createLinkSync:bl,ensureLink:gl,ensureLinkSync:bl,createSymlink:Sl,createSymlinkSync:wl,ensureSymlink:Sl,ensureSymlinkSync:wl}});var ei=E((FS,Rl)=>{function Ch(e,{EOL:t=`
`,finalEOL:n=!0,replacer:i=null,spaces:a}={}){let s=n?t:"";return JSON.stringify(e,i,a).replace(/\n/g,t)+s}function Ah(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}Rl.exports={stringify:Ch,stripBom:Ah}});var Cl=E((LS,vl)=>{var tr;try{tr=de()}catch{tr=require("fs")}var ti=we(),{stringify:Tl,stripBom:Pl}=ei();async function kh(e,t={}){typeof t=="string"&&(t={encoding:t});let n=t.fs||tr,i="throws"in t?t.throws:!0,a=await ti.fromCallback(n.readFile)(e,t);a=Pl(a);let s;try{s=JSON.parse(a,t?t.reviver:null)}catch(l){if(i)throw l.message=`${e}: ${l.message}`,l;return null}return s}var xh=ti.fromPromise(kh);function Dh(e,t={}){typeof t=="string"&&(t={encoding:t});let n=t.fs||tr,i="throws"in t?t.throws:!0;try{let a=n.readFileSync(e,t);return a=Pl(a),JSON.parse(a,t.reviver)}catch(a){if(i)throw a.message=`${e}: ${a.message}`,a;return null}}async function Oh(e,t,n={}){let i=n.fs||tr,a=Tl(t,n);await ti.fromCallback(i.writeFile)(e,a,n)}var Ih=ti.fromPromise(Oh);function Bh(e,t,n={}){let i=n.fs||tr,a=Tl(t,n);return i.writeFileSync(e,a,n)}var qh={readFile:xh,readFileSync:Dh,writeFile:Ih,writeFileSync:Bh};vl.exports=qh});var kl=E((NS,Al)=>{"use strict";var ri=Cl();Al.exports={readJson:ri.readFile,readJsonSync:ri.readFileSync,writeJson:ri.writeFile,writeJsonSync:ri.writeFileSync}});var ni=E(($S,Ol)=>{"use strict";var Wh=we().fromCallback,Ur=de(),xl=require("path"),Dl=We(),Fh=ht().pathExists;function Lh(e,t,n,i){typeof n=="function"&&(i=n,n="utf8");let a=xl.dirname(e);Fh(a,(s,l)=>{if(s)return i(s);if(l)return Ur.writeFile(e,t,n,i);Dl.mkdirs(a,c=>{if(c)return i(c);Ur.writeFile(e,t,n,i)})})}function Nh(e,...t){let n=xl.dirname(e);if(Ur.existsSync(n))return Ur.writeFileSync(e,...t);Dl.mkdirsSync(n),Ur.writeFileSync(e,...t)}Ol.exports={outputFile:Wh(Lh),outputFileSync:Nh}});var Bl=E((MS,Il)=>{"use strict";var{stringify:$h}=ei(),{outputFile:Mh}=ni();async function zh(e,t,n={}){let i=$h(t,n);await Mh(e,i,n)}Il.exports=zh});var Wl=E((zS,ql)=>{"use strict";var{stringify:jh}=ei(),{outputFileSync:Uh}=ni();function Gh(e,t,n){let i=jh(t,n);Uh(e,i,n)}ql.exports=Gh});var Ll=E((jS,Fl)=>{"use strict";var Hh=we().fromPromise,me=kl();me.outputJson=Hh(Bl());me.outputJsonSync=Wl();me.outputJSON=me.outputJson;me.outputJSONSync=me.outputJsonSync;me.writeJSON=me.writeJson;me.writeJSONSync=me.writeJsonSync;me.readJSON=me.readJson;me.readJSONSync=me.readJsonSync;Fl.exports=me});var jl=E((US,zl)=>{"use strict";var Vh=de(),Po=require("path"),Yh=Xn().copy,Ml=zr().remove,Qh=We().mkdirp,Xh=ht().pathExists,Nl=It();function Kh(e,t,n,i){typeof n=="function"&&(i=n,n={}),n=n||{};let a=n.overwrite||n.clobber||!1;Nl.checkPaths(e,t,"move",n,(s,l)=>{if(s)return i(s);let{srcStat:c,isChangingCase:d=!1}=l;Nl.checkParentPaths(e,c,t,"move",y=>{if(y)return i(y);if(Jh(t))return $l(e,t,a,d,i);Qh(Po.dirname(t),p=>p?i(p):$l(e,t,a,d,i))})})}function Jh(e){let t=Po.dirname(e);return Po.parse(t).root===t}function $l(e,t,n,i,a){if(i)return To(e,t,n,a);if(n)return Ml(t,s=>s?a(s):To(e,t,n,a));Xh(t,(s,l)=>s?a(s):l?a(new Error("dest already exists.")):To(e,t,n,a))}function To(e,t,n,i){Vh.rename(e,t,a=>a?a.code!=="EXDEV"?i(a):Zh(e,t,n,i):i())}function Zh(e,t,n,i){Yh(e,t,{overwrite:n,errorOnExist:!0},s=>s?i(s):Ml(e,i))}zl.exports=Kh});var Yl=E((GS,Vl)=>{"use strict";var Gl=de(),Co=require("path"),ey=Xn().copySync,Hl=zr().removeSync,ty=We().mkdirpSync,Ul=It();function ry(e,t,n){n=n||{};let i=n.overwrite||n.clobber||!1,{srcStat:a,isChangingCase:s=!1}=Ul.checkPathsSync(e,t,"move",n);return Ul.checkParentPathsSync(e,a,t,"move"),ny(t)||ty(Co.dirname(t)),iy(e,t,i,s)}function ny(e){let t=Co.dirname(e);return Co.parse(t).root===t}function iy(e,t,n,i){if(i)return vo(e,t,n);if(n)return Hl(t),vo(e,t,n);if(Gl.existsSync(t))throw new Error("dest already exists.");return vo(e,t,n)}function vo(e,t,n){try{Gl.renameSync(e,t)}catch(i){if(i.code!=="EXDEV")throw i;return oy(e,t,n)}}function oy(e,t,n){return ey(e,t,{overwrite:n,errorOnExist:!0}),Hl(e)}Vl.exports=ry});var Xl=E((HS,Ql)=>{"use strict";var ay=we().fromCallback;Ql.exports={move:ay(jl()),moveSync:Yl()}});var Jl=E((VS,Kl)=>{"use strict";Kl.exports={...Ot(),...Xn(),...Hu(),...El(),...Ll(),...We(),...Xl(),...ni(),...ht(),...zr()}});var nc=E((YS,rc)=>{rc.exports=tc;tc.sync=uy;var Zl=require("fs");function sy(e,t){var n=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!n||(n=n.split(";"),n.indexOf("")!==-1))return!0;for(var i=0;i<n.length;i++){var a=n[i].toLowerCase();if(a&&e.substr(-a.length).toLowerCase()===a)return!0}return!1}function ec(e,t,n){return!e.isSymbolicLink()&&!e.isFile()?!1:sy(t,n)}function tc(e,t,n){Zl.stat(e,function(i,a){n(i,i?!1:ec(a,e,t))})}function uy(e,t){return ec(Zl.statSync(e),e,t)}});var uc=E((QS,sc)=>{sc.exports=oc;oc.sync=ly;var ic=require("fs");function oc(e,t,n){ic.stat(e,function(i,a){n(i,i?!1:ac(a,t))})}function ly(e,t){return ac(ic.statSync(e),t)}function ac(e,t){return e.isFile()&&cy(e,t)}function cy(e,t){var n=e.mode,i=e.uid,a=e.gid,s=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),l=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),c=parseInt("100",8),d=parseInt("010",8),y=parseInt("001",8),p=c|d,_=n&y||n&d&&a===l||n&c&&i===s||n&p&&s===0;return _}});var cc=E((KS,lc)=>{var XS=require("fs"),ii;process.platform==="win32"||global.TESTING_WINDOWS?ii=nc():ii=uc();lc.exports=Ao;Ao.sync=fy;function Ao(e,t,n){if(typeof t=="function"&&(n=t,t={}),!n){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(i,a){Ao(e,t||{},function(s,l){s?a(s):i(l)})})}ii(e,t||{},function(i,a){i&&(i.code==="EACCES"||t&&t.ignoreErrors)&&(i=null,a=!1),n(i,a)})}function fy(e,t){try{return ii.sync(e,t||{})}catch(n){if(t&&t.ignoreErrors||n.code==="EACCES")return!1;throw n}}});var gc=E((JS,yc)=>{var rr=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",fc=require("path"),dy=rr?";":":",dc=cc(),mc=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),pc=(e,t)=>{let n=t.colon||dy,i=e.match(/\//)||rr&&e.match(/\\/)?[""]:[...rr?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(n)],a=rr?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=rr?a.split(n):[""];return rr&&e.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:i,pathExt:s,pathExtExe:a}},hc=(e,t,n)=>{typeof t=="function"&&(n=t,t={}),t||(t={});let{pathEnv:i,pathExt:a,pathExtExe:s}=pc(e,t),l=[],c=y=>new Promise((p,_)=>{if(y===i.length)return t.all&&l.length?p(l):_(mc(e));let S=i[y],h=/^".*"$/.test(S)?S.slice(1,-1):S,g=fc.join(h,e),T=!h&&/^\.[\\\/]/.test(e)?e.slice(0,2)+g:g;p(d(T,y,0))}),d=(y,p,_)=>new Promise((S,h)=>{if(_===a.length)return S(c(p+1));let g=a[_];dc(y+g,{pathExt:s},(T,R)=>{if(!T&&R)if(t.all)l.push(y+g);else return S(y+g);return S(d(y,p,_+1))})});return n?c(0).then(y=>n(null,y),n):c(0)},my=(e,t)=>{t=t||{};let{pathEnv:n,pathExt:i,pathExtExe:a}=pc(e,t),s=[];for(let l=0;l<n.length;l++){let c=n[l],d=/^".*"$/.test(c)?c.slice(1,-1):c,y=fc.join(d,e),p=!d&&/^\.[\\\/]/.test(e)?e.slice(0,2)+y:y;for(let _=0;_<i.length;_++){let S=p+i[_];try{if(dc.sync(S,{pathExt:a}))if(t.all)s.push(S);else return S}catch{}}}if(t.all&&s.length)return s;if(t.nothrow)return null;throw mc(e)};yc.exports=hc;hc.sync=my});var xo=E((ZS,ko)=>{"use strict";var bc=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(i=>i.toUpperCase()==="PATH")||"Path"};ko.exports=bc;ko.exports.default=bc});var Ec=E((ew,_c)=>{"use strict";var Sc=require("path"),py=gc(),hy=xo();function wc(e,t){let n=e.options.env||process.env,i=process.cwd(),a=e.options.cwd!=null,s=a&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(e.options.cwd)}catch{}let l;try{l=py.sync(e.command,{path:n[hy({env:n})],pathExt:t?Sc.delimiter:void 0})}catch{}finally{s&&process.chdir(i)}return l&&(l=Sc.resolve(a?e.options.cwd:"",l)),l}function yy(e){return wc(e)||wc(e,!0)}_c.exports=yy});var Rc=E((tw,Oo)=>{"use strict";var Do=/([()\][%!^"`<>&|;, *?])/g;function gy(e){return e=e.replace(Do,"^$1"),e}function by(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(Do,"^$1"),t&&(e=e.replace(Do,"^$1")),e}Oo.exports.command=gy;Oo.exports.argument=by});var Pc=E((rw,Tc)=>{"use strict";Tc.exports=/^#!(.*)/});var Cc=E((nw,vc)=>{"use strict";var Sy=Pc();vc.exports=(e="")=>{let t=e.match(Sy);if(!t)return null;let[n,i]=t[0].replace(/#! ?/,"").split(" "),a=n.split("/").pop();return a==="env"?i:i?`${a} ${i}`:a}});var kc=E((iw,Ac)=>{"use strict";var Io=require("fs"),wy=Cc();function _y(e){let n=Buffer.alloc(150),i;try{i=Io.openSync(e,"r"),Io.readSync(i,n,0,150,0),Io.closeSync(i)}catch{}return wy(n.toString())}Ac.exports=_y});var Ic=E((ow,Oc)=>{"use strict";var Ey=require("path"),xc=Ec(),Dc=Rc(),Ry=kc(),Ty=process.platform==="win32",Py=/\.(?:com|exe)$/i,vy=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Cy(e){e.file=xc(e);let t=e.file&&Ry(e.file);return t?(e.args.unshift(e.file),e.command=t,xc(e)):e.file}function Ay(e){if(!Ty)return e;let t=Cy(e),n=!Py.test(t);if(e.options.forceShell||n){let i=vy.test(t);e.command=Ey.normalize(e.command),e.command=Dc.command(e.command),e.args=e.args.map(s=>Dc.argument(s,i));let a=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${a}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function ky(e,t,n){t&&!Array.isArray(t)&&(n=t,t=null),t=t?t.slice(0):[],n=Object.assign({},n);let i={command:e,args:t,options:n,file:void 0,original:{command:e,args:t}};return n.shell?i:Ay(i)}Oc.exports=ky});var Wc=E((aw,qc)=>{"use strict";var Bo=process.platform==="win32";function qo(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function xy(e,t){if(!Bo)return;let n=e.emit;e.emit=function(i,a){if(i==="exit"){let s=Bc(a,t,"spawn");if(s)return n.call(e,"error",s)}return n.apply(e,arguments)}}function Bc(e,t){return Bo&&e===1&&!t.file?qo(t.original,"spawn"):null}function Dy(e,t){return Bo&&e===1&&!t.file?qo(t.original,"spawnSync"):null}qc.exports={hookChildProcess:xy,verifyENOENT:Bc,verifyENOENTSync:Dy,notFoundError:qo}});var Nc=E((sw,nr)=>{"use strict";var Fc=require("child_process"),Wo=Ic(),Fo=Wc();function Lc(e,t,n){let i=Wo(e,t,n),a=Fc.spawn(i.command,i.args,i.options);return Fo.hookChildProcess(a,i),a}function Oy(e,t,n){let i=Wo(e,t,n),a=Fc.spawnSync(i.command,i.args,i.options);return a.error=a.error||Fo.verifyENOENTSync(a.status,i),a}nr.exports=Lc;nr.exports.spawn=Lc;nr.exports.sync=Oy;nr.exports._parse=Wo;nr.exports._enoent=Fo});var Mc=E((uw,$c)=>{"use strict";$c.exports=e=>{let t=typeof e=="string"?`
`:`
`.charCodeAt(),n=typeof e=="string"?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===n&&(e=e.slice(0,e.length-1)),e}});var Uc=E((lw,Hr)=>{"use strict";var Gr=require("path"),zc=xo(),jc=e=>{e={cwd:process.cwd(),path:process.env[zc()],execPath:process.execPath,...e};let t,n=Gr.resolve(e.cwd),i=[];for(;t!==n;)i.push(Gr.join(n,"node_modules/.bin")),t=n,n=Gr.resolve(n,"..");let a=Gr.resolve(e.cwd,e.execPath,"..");return i.push(a),i.concat(e.path).join(Gr.delimiter)};Hr.exports=jc;Hr.exports.default=jc;Hr.exports.env=e=>{e={env:process.env,...e};let t={...e.env},n=zc({env:t});return e.path=t[n],t[n]=Hr.exports(e),t}});var Hc=E((cw,Lo)=>{"use strict";var Gc=(e,t)=>{for(let n of Reflect.ownKeys(t))Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n));return e};Lo.exports=Gc;Lo.exports.default=Gc});var Yc=E((fw,ai)=>{"use strict";var Iy=Hc(),oi=new WeakMap,Vc=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let n,i=0,a=e.displayName||e.name||"<anonymous>",s=function(...l){if(oi.set(s,++i),i===1)n=e.apply(this,l),e=null;else if(t.throw===!0)throw new Error(`Function \`${a}\` can only be called once`);return n};return Iy(s,e),oi.set(s,i),s};ai.exports=Vc;ai.exports.default=Vc;ai.exports.callCount=e=>{if(!oi.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return oi.get(e)}});var Qc=E(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.SIGNALS=void 0;var By=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];si.SIGNALS=By});var No=E(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.SIGRTMAX=ir.getRealtimeSignals=void 0;var qy=function(){let e=Kc-Xc+1;return Array.from({length:e},Wy)};ir.getRealtimeSignals=qy;var Wy=function(e,t){return{name:`SIGRT${t+1}`,number:Xc+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},Xc=34,Kc=64;ir.SIGRTMAX=Kc});var Jc=E(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.getSignals=void 0;var Fy=require("os"),Ly=Qc(),Ny=No(),$y=function(){let e=(0,Ny.getRealtimeSignals)();return[...Ly.SIGNALS,...e].map(My)};ui.getSignals=$y;var My=function({name:e,number:t,description:n,action:i,forced:a=!1,standard:s}){let{signals:{[e]:l}}=Fy.constants,c=l!==void 0;return{name:e,number:c?l:t,description:n,supported:c,action:i,forced:a,standard:s}}});var ef=E(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.signalsByNumber=or.signalsByName=void 0;var zy=require("os"),Zc=Jc(),jy=No(),Uy=function(){return(0,Zc.getSignals)().reduce(Gy,{})},Gy=function(e,{name:t,number:n,description:i,supported:a,action:s,forced:l,standard:c}){return{...e,[t]:{name:t,number:n,description:i,supported:a,action:s,forced:l,standard:c}}},Hy=Uy();or.signalsByName=Hy;var Vy=function(){let e=(0,Zc.getSignals)(),t=jy.SIGRTMAX+1,n=Array.from({length:t},(i,a)=>Yy(a,e));return Object.assign({},...n)},Yy=function(e,t){let n=Qy(e,t);if(n===void 0)return{};let{name:i,description:a,supported:s,action:l,forced:c,standard:d}=n;return{[e]:{name:i,number:e,description:a,supported:s,action:l,forced:c,standard:d}}},Qy=function(e,t){let n=t.find(({name:i})=>zy.constants.signals[i]===e);return n!==void 0?n:t.find(i=>i.number===e)},Xy=Vy();or.signalsByNumber=Xy});var rf=E((yw,tf)=>{"use strict";var{signalsByName:Ky}=ef(),Jy=({timedOut:e,timeout:t,errorCode:n,signal:i,signalDescription:a,exitCode:s,isCanceled:l})=>e?`timed out after ${t} milliseconds`:l?"was canceled":n!==void 0?`failed with ${n}`:i!==void 0?`was killed with ${i} (${a})`:s!==void 0?`failed with exit code ${s}`:"failed",Zy=({stdout:e,stderr:t,all:n,error:i,signal:a,exitCode:s,command:l,escapedCommand:c,timedOut:d,isCanceled:y,killed:p,parsed:{options:{timeout:_}}})=>{s=s===null?void 0:s,a=a===null?void 0:a;let S=a===void 0?void 0:Ky[a].description,h=i&&i.code,T=`Command ${Jy({timedOut:d,timeout:_,errorCode:h,signal:a,signalDescription:S,exitCode:s,isCanceled:y})}: ${l}`,R=Object.prototype.toString.call(i)==="[object Error]",C=R?`${T}
${i.message}`:T,k=[C,t,e].filter(Boolean).join(`
`);return R?(i.originalMessage=i.message,i.message=k):i=new Error(k),i.shortMessage=C,i.command=l,i.escapedCommand=c,i.exitCode=s,i.signal=a,i.signalDescription=S,i.stdout=e,i.stderr=t,n!==void 0&&(i.all=n),"bufferedData"in i&&delete i.bufferedData,i.failed=!0,i.timedOut=Boolean(d),i.isCanceled=y,i.killed=p&&!d,i};tf.exports=Zy});var of=E((gw,$o)=>{"use strict";var li=["stdin","stdout","stderr"],eg=e=>li.some(t=>e[t]!==void 0),nf=e=>{if(!e)return;let{stdio:t}=e;if(t===void 0)return li.map(i=>e[i]);if(eg(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${li.map(i=>`\`${i}\``).join(", ")}`);if(typeof t=="string")return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);let n=Math.max(t.length,li.length);return Array.from({length:n},(i,a)=>t[a])};$o.exports=nf;$o.exports.node=e=>{let t=nf(e);return t==="ipc"?"ipc":t===void 0||typeof t=="string"?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]}});var af=E((bw,ci)=>{ci.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&ci.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&ci.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var ff=E((Sw,ur)=>{var V=global.process,Bt=function(e){return e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function"};Bt(V)?(sf=require("assert"),ar=af(),uf=/^win/i.test(V.platform),Vr=require("events"),typeof Vr!="function"&&(Vr=Vr.EventEmitter),V.__signal_exit_emitter__?ie=V.__signal_exit_emitter__:(ie=V.__signal_exit_emitter__=new Vr,ie.count=0,ie.emitted={}),ie.infinite||(ie.setMaxListeners(1/0),ie.infinite=!0),ur.exports=function(e,t){if(!Bt(global.process))return function(){};sf.equal(typeof e,"function","a callback must be provided for exit handler"),sr===!1&&Mo();var n="exit";t&&t.alwaysLast&&(n="afterexit");var i=function(){ie.removeListener(n,e),ie.listeners("exit").length===0&&ie.listeners("afterexit").length===0&&fi()};return ie.on(n,e),i},fi=function(){!sr||!Bt(global.process)||(sr=!1,ar.forEach(function(t){try{V.removeListener(t,di[t])}catch{}}),V.emit=mi,V.reallyExit=zo,ie.count-=1)},ur.exports.unload=fi,qt=function(t,n,i){ie.emitted[t]||(ie.emitted[t]=!0,ie.emit(t,n,i))},di={},ar.forEach(function(e){di[e]=function(){if(!!Bt(global.process)){var n=V.listeners(e);n.length===ie.count&&(fi(),qt("exit",null,e),qt("afterexit",null,e),uf&&e==="SIGHUP"&&(e="SIGINT"),V.kill(V.pid,e))}}}),ur.exports.signals=function(){return ar},sr=!1,Mo=function(){sr||!Bt(global.process)||(sr=!0,ie.count+=1,ar=ar.filter(function(t){try{return V.on(t,di[t]),!0}catch{return!1}}),V.emit=cf,V.reallyExit=lf)},ur.exports.load=Mo,zo=V.reallyExit,lf=function(t){!Bt(global.process)||(V.exitCode=t||0,qt("exit",V.exitCode,null),qt("afterexit",V.exitCode,null),zo.call(V,V.exitCode))},mi=V.emit,cf=function(t,n){if(t==="exit"&&Bt(global.process)){n!==void 0&&(V.exitCode=n);var i=mi.apply(this,arguments);return qt("exit",V.exitCode,null),qt("afterexit",V.exitCode,null),i}else return mi.apply(this,arguments)}):ur.exports=function(){return function(){}};var sf,ar,uf,Vr,ie,fi,qt,di,sr,Mo,zo,lf,mi,cf});var mf=E((ww,df)=>{"use strict";var tg=require("os"),rg=ff(),ng=1e3*5,ig=(e,t="SIGTERM",n={})=>{let i=e(t);return og(e,t,n,i),i},og=(e,t,n,i)=>{if(!ag(t,n,i))return;let a=ug(n),s=setTimeout(()=>{e("SIGKILL")},a);s.unref&&s.unref()},ag=(e,{forceKillAfterTimeout:t},n)=>sg(e)&&t!==!1&&n,sg=e=>e===tg.constants.signals.SIGTERM||typeof e=="string"&&e.toUpperCase()==="SIGTERM",ug=({forceKillAfterTimeout:e=!0})=>{if(e===!0)return ng;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},lg=(e,t)=>{e.kill()&&(t.isCanceled=!0)},cg=(e,t,n)=>{e.kill(t),n(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))},fg=(e,{timeout:t,killSignal:n="SIGTERM"},i)=>{if(t===0||t===void 0)return i;let a,s=new Promise((c,d)=>{a=setTimeout(()=>{cg(e,n,d)},t)}),l=i.finally(()=>{clearTimeout(a)});return Promise.race([s,l])},dg=({timeout:e})=>{if(e!==void 0&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},mg=async(e,{cleanup:t,detached:n},i)=>{if(!t||n)return i;let a=rg(()=>{e.kill()});return i.finally(()=>{a()})};df.exports={spawnedKill:ig,spawnedCancel:lg,setupTimeout:fg,validateTimeout:dg,setExitHandler:mg}});var hf=E((_w,pf)=>{"use strict";var je=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";je.writable=e=>je(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";je.readable=e=>je(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";je.duplex=e=>je.writable(e)&&je.readable(e);je.transform=e=>je.duplex(e)&&typeof e._transform=="function";pf.exports=je});var gf=E((Ew,yf)=>{"use strict";var{PassThrough:pg}=require("stream");yf.exports=e=>{e={...e};let{array:t}=e,{encoding:n}=e,i=n==="buffer",a=!1;t?a=!(n||i):n=n||"utf8",i&&(n=null);let s=new pg({objectMode:a});n&&s.setEncoding(n);let l=0,c=[];return s.on("data",d=>{c.push(d),a?l=c.length:l+=d.length}),s.getBufferedValue=()=>t?c:i?Buffer.concat(c,l):c.join(""),s.getBufferedLength=()=>l,s}});var bf=E((Rw,Yr)=>{"use strict";var{constants:hg}=require("buffer"),yg=require("stream"),{promisify:gg}=require("util"),bg=gf(),Sg=gg(yg.pipeline),pi=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function jo(e,t){if(!e)throw new Error("Expected a stream");t={maxBuffer:1/0,...t};let{maxBuffer:n}=t,i=bg(t);return await new Promise((a,s)=>{let l=c=>{c&&i.getBufferedLength()<=hg.MAX_LENGTH&&(c.bufferedData=i.getBufferedValue()),s(c)};(async()=>{try{await Sg(e,i),a()}catch(c){l(c)}})(),i.on("data",()=>{i.getBufferedLength()>n&&l(new pi)})}),i.getBufferedValue()}Yr.exports=jo;Yr.exports.buffer=(e,t)=>jo(e,{...t,encoding:"buffer"});Yr.exports.array=(e,t)=>jo(e,{...t,array:!0});Yr.exports.MaxBufferError=pi});var wf=E((Tw,Sf)=>{"use strict";var{PassThrough:wg}=require("stream");Sf.exports=function(){var e=[],t=new wg({objectMode:!0});return t.setMaxListeners(0),t.add=n,t.isEmpty=i,t.on("unpipe",a),Array.prototype.slice.call(arguments).forEach(n),t;function n(s){return Array.isArray(s)?(s.forEach(n),this):(e.push(s),s.once("end",a.bind(null,s)),s.once("error",t.emit.bind(t,"error")),s.pipe(t,{end:!1}),this)}function i(){return e.length==0}function a(s){e=e.filter(function(l){return l!==s}),!e.length&&t.readable&&t.end()}}});var Tf=E((Pw,Rf)=>{"use strict";var Ef=hf(),_f=bf(),_g=wf(),Eg=(e,t)=>{t===void 0||e.stdin===void 0||(Ef(t)?t.pipe(e.stdin):e.stdin.end(t))},Rg=(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;let n=_g();return e.stdout&&n.add(e.stdout),e.stderr&&n.add(e.stderr),n},Uo=async(e,t)=>{if(!!e){e.destroy();try{return await t}catch(n){return n.bufferedData}}},Go=(e,{encoding:t,buffer:n,maxBuffer:i})=>{if(!(!e||!n))return t?_f(e,{encoding:t,maxBuffer:i}):_f.buffer(e,{maxBuffer:i})},Tg=async({stdout:e,stderr:t,all:n},{encoding:i,buffer:a,maxBuffer:s},l)=>{let c=Go(e,{encoding:i,buffer:a,maxBuffer:s}),d=Go(t,{encoding:i,buffer:a,maxBuffer:s}),y=Go(n,{encoding:i,buffer:a,maxBuffer:s*2});try{return await Promise.all([l,c,d,y])}catch(p){return Promise.all([{error:p,signal:p.signal,timedOut:p.timedOut},Uo(e,c),Uo(t,d),Uo(n,y)])}},Pg=({input:e})=>{if(Ef(e))throw new TypeError("The `input` option cannot be a stream in sync mode")};Rf.exports={handleInput:Eg,makeAllStream:Rg,getSpawnedResult:Tg,validateInputSync:Pg}});var vf=E((vw,Pf)=>{"use strict";var vg=(async()=>{})().constructor.prototype,Cg=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(vg,e)]),Ag=(e,t)=>{for(let[n,i]of Cg){let a=typeof t=="function"?(...s)=>Reflect.apply(i.value,t(),s):i.value.bind(t);Reflect.defineProperty(e,n,{...i,value:a})}return e},kg=e=>new Promise((t,n)=>{e.on("exit",(i,a)=>{t({exitCode:i,signal:a})}),e.on("error",i=>{n(i)}),e.stdin&&e.stdin.on("error",i=>{n(i)})});Pf.exports={mergePromise:Ag,getSpawnedPromise:kg}});var kf=E((Cw,Af)=>{"use strict";var Cf=(e,t=[])=>Array.isArray(t)?[e,...t]:[e],xg=/^[\w.-]+$/,Dg=/"/g,Og=e=>typeof e!="string"||xg.test(e)?e:`"${e.replace(Dg,'\\"')}"`,Ig=(e,t)=>Cf(e,t).join(" "),Bg=(e,t)=>Cf(e,t).map(n=>Og(n)).join(" "),qg=/ +/g,Wg=e=>{let t=[];for(let n of e.trim().split(qg)){let i=t[t.length-1];i&&i.endsWith("\\")?t[t.length-1]=`${i.slice(0,-1)} ${n}`:t.push(n)}return t};Af.exports={joinCommand:Ig,getEscapedCommand:Bg,parseCommand:Wg}});var Wf=E((Aw,lr)=>{"use strict";var Fg=require("path"),Ho=require("child_process"),Lg=Nc(),Ng=Mc(),$g=Uc(),Mg=Yc(),hi=rf(),Df=of(),{spawnedKill:zg,spawnedCancel:jg,setupTimeout:Ug,validateTimeout:Gg,setExitHandler:Hg}=mf(),{handleInput:Vg,getSpawnedResult:Yg,makeAllStream:Qg,validateInputSync:Xg}=Tf(),{mergePromise:xf,getSpawnedPromise:Kg}=vf(),{joinCommand:Of,parseCommand:If,getEscapedCommand:Bf}=kf(),Jg=1e3*1e3*100,Zg=({env:e,extendEnv:t,preferLocal:n,localDir:i,execPath:a})=>{let s=t?{...process.env,...e}:e;return n?$g.env({env:s,cwd:i,execPath:a}):s},qf=(e,t,n={})=>{let i=Lg._parse(e,t,n);return e=i.command,t=i.args,n=i.options,n={maxBuffer:Jg,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:n.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...n},n.env=Zg(n),n.stdio=Df(n),process.platform==="win32"&&Fg.basename(e,".exe")==="cmd"&&t.unshift("/q"),{file:e,args:t,options:n,parsed:i}},Qr=(e,t,n)=>typeof t!="string"&&!Buffer.isBuffer(t)?n===void 0?void 0:"":e.stripFinalNewline?Ng(t):t,yi=(e,t,n)=>{let i=qf(e,t,n),a=Of(e,t),s=Bf(e,t);Gg(i.options);let l;try{l=Ho.spawn(i.file,i.args,i.options)}catch(h){let g=new Ho.ChildProcess,T=Promise.reject(hi({error:h,stdout:"",stderr:"",all:"",command:a,escapedCommand:s,parsed:i,timedOut:!1,isCanceled:!1,killed:!1}));return xf(g,T)}let c=Kg(l),d=Ug(l,i.options,c),y=Hg(l,i.options,d),p={isCanceled:!1};l.kill=zg.bind(null,l.kill.bind(l)),l.cancel=jg.bind(null,l,p);let S=Mg(async()=>{let[{error:h,exitCode:g,signal:T,timedOut:R},C,k,X]=await Yg(l,i.options,y),x=Qr(i.options,C),$=Qr(i.options,k),I=Qr(i.options,X);if(h||g!==0||T!==null){let ce=hi({error:h,exitCode:g,signal:T,stdout:x,stderr:$,all:I,command:a,escapedCommand:s,parsed:i,timedOut:R,isCanceled:p.isCanceled,killed:l.killed});if(!i.options.reject)return ce;throw ce}return{command:a,escapedCommand:s,exitCode:0,stdout:x,stderr:$,all:I,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return Vg(l,i.options.input),l.all=Qg(l,i.options),xf(l,S)};lr.exports=yi;lr.exports.sync=(e,t,n)=>{let i=qf(e,t,n),a=Of(e,t),s=Bf(e,t);Xg(i.options);let l;try{l=Ho.spawnSync(i.file,i.args,i.options)}catch(y){throw hi({error:y,stdout:"",stderr:"",all:"",command:a,escapedCommand:s,parsed:i,timedOut:!1,isCanceled:!1,killed:!1})}let c=Qr(i.options,l.stdout,l.error),d=Qr(i.options,l.stderr,l.error);if(l.error||l.status!==0||l.signal!==null){let y=hi({stdout:c,stderr:d,error:l.error,signal:l.signal,exitCode:l.status,command:a,escapedCommand:s,parsed:i,timedOut:l.error&&l.error.code==="ETIMEDOUT",isCanceled:!1,killed:l.signal!==null});if(!i.options.reject)return y;throw y}return{command:a,escapedCommand:s,exitCode:0,stdout:c,stderr:d,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};lr.exports.command=(e,t)=>{let[n,...i]=If(e);return yi(n,i,t)};lr.exports.commandSync=(e,t)=>{let[n,...i]=If(e);return yi.sync(n,i,t)};lr.exports.node=(e,t,n={})=>{t&&!Array.isArray(t)&&typeof t=="object"&&(n=t,t=[]);let i=Df.node(n),a=process.execArgv.filter(c=>!c.startsWith("--inspect")),{nodePath:s=process.execPath,nodeOptions:l=a}=n;return yi(s,[...l,e,...Array.isArray(t)?t:[]],{...n,stdin:void 0,stdout:void 0,stderr:void 0,stdio:i,shell:!1})}});var rb={};ss(rb,{default:()=>Zf});module.exports=Am(rb);var Jf=require("@raycast/api");var Ms=Ae(require("node:http"),1),zs=Ae(require("node:https"),1),xt=Ae(require("node:zlib"),1),Pe=Ae(require("node:stream"),1),qr=require("node:buffer");function km(e){if(!/^data:/i.test(e))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');e=e.replace(/\r?\n/g,"");let t=e.indexOf(",");if(t===-1||t<=4)throw new TypeError("malformed data: URI");let n=e.substring(5,t).split(";"),i="",a=!1,s=n[0]||"text/plain",l=s;for(let p=1;p<n.length;p++)n[p]==="base64"?a=!0:(l+=`;${n[p]}`,n[p].indexOf("charset=")===0&&(i=n[p].substring(8)));!n[0]&&!i.length&&(l+=";charset=US-ASCII",i="US-ASCII");let c=a?"base64":"ascii",d=unescape(e.substring(t+1)),y=Buffer.from(d,c);return y.type=s,y.typeFull=l,y.charset=i,y}var ls=km;var ke=Ae(require("node:stream"),1),Ze=require("node:util"),Te=require("node:buffer");Ar();qn();var Je=class extends Error{constructor(t,n){super(t),Error.captureStackTrace(this,this.constructor),this.type=n}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var ye=class extends Je{constructor(t,n,i){super(t,n),i&&(this.code=this.errno=i.code,this.erroredSysCall=i.syscall)}};var Wn=Symbol.toStringTag,io=e=>typeof e=="object"&&typeof e.append=="function"&&typeof e.delete=="function"&&typeof e.get=="function"&&typeof e.getAll=="function"&&typeof e.has=="function"&&typeof e.set=="function"&&typeof e.sort=="function"&&e[Wn]==="URLSearchParams",xr=e=>e&&typeof e=="object"&&typeof e.arrayBuffer=="function"&&typeof e.type=="string"&&typeof e.stream=="function"&&typeof e.constructor=="function"&&/^(Blob|File)$/.test(e[Wn]),bs=e=>typeof e=="object"&&(e[Wn]==="AbortSignal"||e[Wn]==="EventTarget"),Ss=(e,t)=>{let n=new URL(t).hostname,i=new URL(e).hostname;return n===i||n.endsWith(`.${i}`)},ws=(e,t)=>{let n=new URL(t).protocol,i=new URL(e).protocol;return n===i};var Um=(0,Ze.promisify)(ke.default.pipeline),ge=Symbol("Body internals"),ze=class{constructor(t,{size:n=0}={}){let i=null;t===null?t=null:io(t)?t=Te.Buffer.from(t.toString()):xr(t)||Te.Buffer.isBuffer(t)||(Ze.types.isAnyArrayBuffer(t)?t=Te.Buffer.from(t):ArrayBuffer.isView(t)?t=Te.Buffer.from(t.buffer,t.byteOffset,t.byteLength):t instanceof ke.default||(t instanceof At?(t=gs(t),i=t.type.split("=")[1]):t=Te.Buffer.from(String(t))));let a=t;Te.Buffer.isBuffer(t)?a=ke.default.Readable.from(t):xr(t)&&(a=ke.default.Readable.from(t.stream())),this[ge]={body:t,stream:a,boundary:i,disturbed:!1,error:null},this.size=n,t instanceof ke.default&&t.on("error",s=>{let l=s instanceof Je?s:new ye(`Invalid response body while trying to fetch ${this.url}: ${s.message}`,"system",s);this[ge].error=l})}get body(){return this[ge].stream}get bodyUsed(){return this[ge].disturbed}async arrayBuffer(){let{buffer:t,byteOffset:n,byteLength:i}=await so(this);return t.slice(n,n+i)}async formData(){let t=this.headers.get("content-type");if(t.startsWith("application/x-www-form-urlencoded")){let i=new At,a=new URLSearchParams(await this.text());for(let[s,l]of a)i.append(s,l);return i}let{toFormData:n}=await Promise.resolve().then(()=>(vs(),Ps));return n(this.body,t)}async blob(){let t=this.headers&&this.headers.get("content-type")||this[ge].body&&this[ge].body.type||"",n=await this.arrayBuffer();return new Ke([n],{type:t})}async json(){let t=await this.text();return JSON.parse(t)}async text(){let t=await so(this);return new TextDecoder().decode(t)}buffer(){return so(this)}};ze.prototype.buffer=(0,Ze.deprecate)(ze.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(ze.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,Ze.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function so(e){if(e[ge].disturbed)throw new TypeError(`body used already for: ${e.url}`);if(e[ge].disturbed=!0,e[ge].error)throw e[ge].error;let{body:t}=e;if(t===null)return Te.Buffer.alloc(0);if(!(t instanceof ke.default))return Te.Buffer.alloc(0);let n=[],i=0;try{for await(let a of t){if(e.size>0&&i+a.length>e.size){let s=new ye(`content size at ${e.url} over limit: ${e.size}`,"max-size");throw t.destroy(s),s}i+=a.length,n.push(a)}}catch(a){throw a instanceof Je?a:new ye(`Invalid response body while trying to fetch ${e.url}: ${a.message}`,"system",a)}if(t.readableEnded===!0||t._readableState.ended===!0)try{return n.every(a=>typeof a=="string")?Te.Buffer.from(n.join("")):Te.Buffer.concat(n,i)}catch(a){throw new ye(`Could not create Buffer from response body for ${e.url}: ${a.message}`,"system",a)}else throw new ye(`Premature close of server response while trying to fetch ${e.url}`)}var Qt=(e,t)=>{let n,i,{body:a}=e[ge];if(e.bodyUsed)throw new Error("cannot clone body after it is used");return a instanceof ke.default&&typeof a.getBoundary!="function"&&(n=new ke.PassThrough({highWaterMark:t}),i=new ke.PassThrough({highWaterMark:t}),a.pipe(n),a.pipe(i),e[ge].stream=n,a=i),a},Gm=(0,Ze.deprecate)(e=>e.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),$n=(e,t)=>e===null?null:typeof e=="string"?"text/plain;charset=UTF-8":io(e)?"application/x-www-form-urlencoded;charset=UTF-8":xr(e)?e.type||null:Te.Buffer.isBuffer(e)||Ze.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof At?`multipart/form-data; boundary=${t[ge].boundary}`:e&&typeof e.getBoundary=="function"?`multipart/form-data;boundary=${Gm(e)}`:e instanceof ke.default?null:"text/plain;charset=UTF-8",Cs=e=>{let{body:t}=e[ge];return t===null?0:xr(t)?t.size:Te.Buffer.isBuffer(t)?t.length:t&&typeof t.getLengthSync=="function"&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null},As=async(e,{body:t})=>{t===null?e.end():await Um(t,e)};var uo=require("node:util"),Ir=Ae(require("node:http"),1),Mn=typeof Ir.default.validateHeaderName=="function"?Ir.default.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){let t=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},lo=typeof Ir.default.validateHeaderValue=="function"?Ir.default.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){let n=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}},be=class extends URLSearchParams{constructor(t){let n=[];if(t instanceof be){let i=t.raw();for(let[a,s]of Object.entries(i))n.push(...s.map(l=>[a,l]))}else if(t!=null)if(typeof t=="object"&&!uo.types.isBoxedPrimitive(t)){let i=t[Symbol.iterator];if(i==null)n.push(...Object.entries(t));else{if(typeof i!="function")throw new TypeError("Header pairs must be iterable");n=[...t].map(a=>{if(typeof a!="object"||uo.types.isBoxedPrimitive(a))throw new TypeError("Each header pair must be an iterable object");return[...a]}).map(a=>{if(a.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...a]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return n=n.length>0?n.map(([i,a])=>(Mn(i),lo(i,String(a)),[String(i).toLowerCase(),String(a)])):void 0,super(n),new Proxy(this,{get(i,a,s){switch(a){case"append":case"set":return(l,c)=>(Mn(l),lo(l,String(c)),URLSearchParams.prototype[a].call(i,String(l).toLowerCase(),String(c)));case"delete":case"has":case"getAll":return l=>(Mn(l),URLSearchParams.prototype[a].call(i,String(l).toLowerCase()));case"keys":return()=>(i.sort(),new Set(URLSearchParams.prototype.keys.call(i)).keys());default:return Reflect.get(i,a,s)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(t){let n=this.getAll(t);if(n.length===0)return null;let i=n.join(", ");return/^content-encoding$/i.test(t)&&(i=i.toLowerCase()),i}forEach(t,n=void 0){for(let i of this.keys())Reflect.apply(t,n,[this.get(i),i,this])}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((t,n)=>(t[n]=this.getAll(n),t),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((t,n)=>{let i=this.getAll(n);return n==="host"?t[n]=i[0]:t[n]=i.length>1?i:i[0],t},{})}};Object.defineProperties(be.prototype,["get","entries","forEach","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));function ks(e=[]){return new be(e.reduce((t,n,i,a)=>(i%2===0&&t.push(a.slice(i,i+2)),t),[]).filter(([t,n])=>{try{return Mn(t),lo(t,String(n)),!0}catch{return!1}}))}var Hm=new Set([301,302,303,307,308]),zn=e=>Hm.has(e);var qe=Symbol("Response internals"),ue=class extends ze{constructor(t=null,n={}){super(t,n);let i=n.status!=null?n.status:200,a=new be(n.headers);if(t!==null&&!a.has("Content-Type")){let s=$n(t,this);s&&a.append("Content-Type",s)}this[qe]={type:"default",url:n.url,status:i,statusText:n.statusText||"",headers:a,counter:n.counter,highWaterMark:n.highWaterMark}}get type(){return this[qe].type}get url(){return this[qe].url||""}get status(){return this[qe].status}get ok(){return this[qe].status>=200&&this[qe].status<300}get redirected(){return this[qe].counter>0}get statusText(){return this[qe].statusText}get headers(){return this[qe].headers}get highWaterMark(){return this[qe].highWaterMark}clone(){return new ue(Qt(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(t,n=302){if(!zn(n))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new ue(null,{headers:{location:new URL(t).toString()},status:n})}static error(){let t=new ue(null,{status:0,statusText:""});return t[qe].type="error",t}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(ue.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var Ls=require("node:url"),Ns=require("node:util");var xs=e=>{if(e.search)return e.search;let t=e.href.length-1,n=e.hash||(e.href[t]==="#"?"#":"");return e.href[t-n.length]==="?"?"?":""};var Os=require("node:net");function Ds(e,t=!1){return e==null||(e=new URL(e),/^(about|blob|data):$/.test(e.protocol))?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}var Is=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),Bs="strict-origin-when-cross-origin";function qs(e){if(!Is.has(e))throw new TypeError(`Invalid referrerPolicy: ${e}`);return e}function Vm(e){if(/^(http|ws)s:$/.test(e.protocol))return!0;let t=e.host.replace(/(^\[)|(]$)/g,""),n=(0,Os.isIP)(t);return n===4&&/^127\./.test(t)||n===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t)?!0:e.host==="localhost"||e.host.endsWith(".localhost")?!1:e.protocol==="file:"}function Xt(e){return/^about:(blank|srcdoc)$/.test(e)||e.protocol==="data:"||/^(blob|filesystem):$/.test(e.protocol)?!0:Vm(e)}function Ws(e,{referrerURLCallback:t,referrerOriginCallback:n}={}){if(e.referrer==="no-referrer"||e.referrerPolicy==="")return null;let i=e.referrerPolicy;if(e.referrer==="about:client")return"no-referrer";let a=e.referrer,s=Ds(a),l=Ds(a,!0);s.toString().length>4096&&(s=l),t&&(s=t(s)),n&&(l=n(l));let c=new URL(e.url);switch(i){case"no-referrer":return"no-referrer";case"origin":return l;case"unsafe-url":return s;case"strict-origin":return Xt(s)&&!Xt(c)?"no-referrer":l.toString();case"strict-origin-when-cross-origin":return s.origin===c.origin?s:Xt(s)&&!Xt(c)?"no-referrer":l;case"same-origin":return s.origin===c.origin?s:"no-referrer";case"origin-when-cross-origin":return s.origin===c.origin?s:l;case"no-referrer-when-downgrade":return Xt(s)&&!Xt(c)?"no-referrer":s;default:throw new TypeError(`Invalid referrerPolicy: ${i}`)}}function Fs(e){let t=(e.get("referrer-policy")||"").split(/[,\s]+/),n="";for(let i of t)i&&Is.has(i)&&(n=i);return n}var re=Symbol("Request internals"),Br=e=>typeof e=="object"&&typeof e[re]=="object",Ym=(0,Ns.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),et=class extends ze{constructor(t,n={}){let i;if(Br(t)?i=new URL(t.url):(i=new URL(t),t={}),i.username!==""||i.password!=="")throw new TypeError(`${i} is an url with embedded credentials.`);let a=n.method||t.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(a)&&(a=a.toUpperCase()),!Br(n)&&"data"in n&&Ym(),(n.body!=null||Br(t)&&t.body!==null)&&(a==="GET"||a==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let s=n.body?n.body:Br(t)&&t.body!==null?Qt(t):null;super(s,{size:n.size||t.size||0});let l=new be(n.headers||t.headers||{});if(s!==null&&!l.has("Content-Type")){let y=$n(s,this);y&&l.set("Content-Type",y)}let c=Br(t)?t.signal:null;if("signal"in n&&(c=n.signal),c!=null&&!bs(c))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let d=n.referrer==null?t.referrer:n.referrer;if(d==="")d="no-referrer";else if(d){let y=new URL(d);d=/^about:(\/\/)?client$/.test(y)?"client":y}else d=void 0;this[re]={method:a,redirect:n.redirect||t.redirect||"follow",headers:l,parsedURL:i,signal:c,referrer:d},this.follow=n.follow===void 0?t.follow===void 0?20:t.follow:n.follow,this.compress=n.compress===void 0?t.compress===void 0?!0:t.compress:n.compress,this.counter=n.counter||t.counter||0,this.agent=n.agent||t.agent,this.highWaterMark=n.highWaterMark||t.highWaterMark||16384,this.insecureHTTPParser=n.insecureHTTPParser||t.insecureHTTPParser||!1,this.referrerPolicy=n.referrerPolicy||t.referrerPolicy||""}get method(){return this[re].method}get url(){return(0,Ls.format)(this[re].parsedURL)}get headers(){return this[re].headers}get redirect(){return this[re].redirect}get signal(){return this[re].signal}get referrer(){if(this[re].referrer==="no-referrer")return"";if(this[re].referrer==="client")return"about:client";if(this[re].referrer)return this[re].referrer.toString()}get referrerPolicy(){return this[re].referrerPolicy}set referrerPolicy(t){this[re].referrerPolicy=qs(t)}clone(){return new et(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(et.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var $s=e=>{let{parsedURL:t}=e[re],n=new be(e[re].headers);n.has("Accept")||n.set("Accept","*/*");let i=null;if(e.body===null&&/^(post|put)$/i.test(e.method)&&(i="0"),e.body!==null){let c=Cs(e);typeof c=="number"&&!Number.isNaN(c)&&(i=String(c))}i&&n.set("Content-Length",i),e.referrerPolicy===""&&(e.referrerPolicy=Bs),e.referrer&&e.referrer!=="no-referrer"?e[re].referrer=Ws(e):e[re].referrer="no-referrer",e[re].referrer instanceof URL&&n.set("Referer",e.referrer),n.has("User-Agent")||n.set("User-Agent","node-fetch"),e.compress&&!n.has("Accept-Encoding")&&n.set("Accept-Encoding","gzip, deflate, br");let{agent:a}=e;typeof a=="function"&&(a=a(t)),!n.has("Connection")&&!a&&n.set("Connection","close");let s=xs(t),l={path:t.pathname+s,method:e.method,headers:n[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:a};return{parsedURL:t,options:l}};var Kt=class extends Je{constructor(t,n="aborted"){super(t,n)}};qn();oo();var Qm=new Set(["data:","http:","https:"]);async function dt(e,t){return new Promise((n,i)=>{let a=new et(e,t),{parsedURL:s,options:l}=$s(a);if(!Qm.has(s.protocol))throw new TypeError(`node-fetch cannot load ${e}. URL scheme "${s.protocol.replace(/:$/,"")}" is not supported.`);if(s.protocol==="data:"){let g=ls(a.url),T=new ue(g,{headers:{"Content-Type":g.typeFull}});n(T);return}let c=(s.protocol==="https:"?zs.default:Ms.default).request,{signal:d}=a,y=null,p=()=>{let g=new Kt("The operation was aborted.");i(g),a.body&&a.body instanceof Pe.default.Readable&&a.body.destroy(g),!(!y||!y.body)&&y.body.emit("error",g)};if(d&&d.aborted){p();return}let _=()=>{p(),h()},S=c(s.toString(),l);d&&d.addEventListener("abort",_);let h=()=>{S.abort(),d&&d.removeEventListener("abort",_)};S.on("error",g=>{i(new ye(`request to ${a.url} failed, reason: ${g.message}`,"system",g)),h()}),Xm(S,g=>{y&&y.body&&y.body.destroy(g)}),process.version<"v14"&&S.on("socket",g=>{let T;g.prependListener("end",()=>{T=g._eventsCount}),g.prependListener("close",R=>{if(y&&T<g._eventsCount&&!R){let C=new Error("Premature close");C.code="ERR_STREAM_PREMATURE_CLOSE",y.body.emit("error",C)}})}),S.on("response",g=>{S.setTimeout(0);let T=ks(g.rawHeaders);if(zn(g.statusCode)){let x=T.get("Location"),$=null;try{$=x===null?null:new URL(x,a.url)}catch{if(a.redirect!=="manual"){i(new ye(`uri requested responds with an invalid redirect URL: ${x}`,"invalid-redirect")),h();return}}switch(a.redirect){case"error":i(new ye(`uri requested responds with a redirect, redirect mode is set to error: ${a.url}`,"no-redirect")),h();return;case"manual":break;case"follow":{if($===null)break;if(a.counter>=a.follow){i(new ye(`maximum redirect reached at: ${a.url}`,"max-redirect")),h();return}let I={headers:new be(a.headers),follow:a.follow,counter:a.counter+1,agent:a.agent,compress:a.compress,method:a.method,body:Qt(a),signal:a.signal,size:a.size,referrer:a.referrer,referrerPolicy:a.referrerPolicy};if(!Ss(a.url,$)||!ws(a.url,$))for(let v of["authorization","www-authenticate","cookie","cookie2"])I.headers.delete(v);if(g.statusCode!==303&&a.body&&t.body instanceof Pe.default.Readable){i(new ye("Cannot follow redirect with body being a readable stream","unsupported-redirect")),h();return}(g.statusCode===303||(g.statusCode===301||g.statusCode===302)&&a.method==="POST")&&(I.method="GET",I.body=void 0,I.headers.delete("content-length"));let ce=Fs(T);ce&&(I.referrerPolicy=ce),n(dt(new et($,I))),h();return}default:return i(new TypeError(`Redirect option '${a.redirect}' is not a valid value of RequestRedirect`))}}d&&g.once("end",()=>{d.removeEventListener("abort",_)});let R=(0,Pe.pipeline)(g,new Pe.PassThrough,x=>{x&&i(x)});process.version<"v12.10"&&g.on("aborted",_);let C={url:a.url,status:g.statusCode,statusText:g.statusMessage,headers:T,size:a.size,counter:a.counter,highWaterMark:a.highWaterMark},k=T.get("Content-Encoding");if(!a.compress||a.method==="HEAD"||k===null||g.statusCode===204||g.statusCode===304){y=new ue(R,C),n(y);return}let X={flush:xt.default.Z_SYNC_FLUSH,finishFlush:xt.default.Z_SYNC_FLUSH};if(k==="gzip"||k==="x-gzip"){R=(0,Pe.pipeline)(R,xt.default.createGunzip(X),x=>{x&&i(x)}),y=new ue(R,C),n(y);return}if(k==="deflate"||k==="x-deflate"){let x=(0,Pe.pipeline)(g,new Pe.PassThrough,$=>{$&&i($)});x.once("data",$=>{($[0]&15)===8?R=(0,Pe.pipeline)(R,xt.default.createInflate(),I=>{I&&i(I)}):R=(0,Pe.pipeline)(R,xt.default.createInflateRaw(),I=>{I&&i(I)}),y=new ue(R,C),n(y)}),x.once("end",()=>{y||(y=new ue(R,C),n(y))});return}if(k==="br"){R=(0,Pe.pipeline)(R,xt.default.createBrotliDecompress(),x=>{x&&i(x)}),y=new ue(R,C),n(y);return}y=new ue(R,C),n(y)}),As(S,a).catch(i)})}function Xm(e,t){let n=qr.Buffer.from(`0\r
\r
`),i=!1,a=!1,s;e.on("response",l=>{let{headers:c}=l;i=c["transfer-encoding"]==="chunked"&&!c["content-length"]}),e.on("socket",l=>{let c=()=>{if(i&&!a){let y=new Error("Premature close");y.code="ERR_STREAM_PREMATURE_CLOSE",t(y)}},d=y=>{a=qr.Buffer.compare(y.slice(-5),n)===0,!a&&s&&(a=qr.Buffer.compare(s.slice(-3),n.slice(0,3))===0&&qr.Buffer.compare(y.slice(-2),n.slice(3))===0),s=y};l.prependListener("close",c),l.on("data",d),e.on("close",()=>{l.removeListener("close",c),l.removeListener("data",d)})})}var co=(e=0,t=8)=>`https://www.bing.com/HPImageArchive.aspx?format=js&idx=${e}&n=${t}&pid=hp&uhd=1&uhdwidth=3840&uhdheight=2160`,Se=(e,t="raw",n=3840,i=2160)=>{let a;switch(t){case"raw":{a=e.replace("&w=3840&h=2160&rs=1&c=4","");break}case"full":{a=e;break}case"regular":{a=e.replace("3840","2560").replace("2160","1440");break}case"small":{a=e.replace("3840","1920").replace("2160","1080");break}default:{a=e.replace("3840",n+"").replace("2160",i+"");break}}return"https://www.bing.com"+a},js=e=>"https://www.bing.com"+e,xe=e=>{let n=e.indexOf("_");return e.substring(11,n)};var cr=require("@raycast/api"),Ue=require("react");var G=require("@raycast/api"),St=Ae(Jl());var Ff=Ae(require("node:process"),1),Lf=Ae(Wf(),1);async function Vo(e){if(Ff.default.platform!=="darwin")throw new Error("macOS only");let{stdout:t}=await(0,Lf.default)("osascript",["-e",e]);return t}var Si=require("os");var gi=(i=>(i.ALL="All",i.ONLINE="Online",i.DOWNLOADED="Downloaded",i))(gi||{}),bi=Object.entries(gi),Nf=[".png",".jpg",".heic"];var Yo=require("path"),eb=e=>!(e!=null&&String(e).length>0),Qo=()=>{let e=(0,G.getPreferenceValues)().downloadDirectory,t=e;return e.startsWith("~")&&(t=e.replace("~",`${(0,Si.homedir)()}`)),eb(t)||!St.default.pathExistsSync(t)?(0,Si.homedir)()+"/Downloads":t.endsWith("/")?t.substring(0,-1):t},Xr=async(e,t)=>{let n=await(0,G.showToast)(G.Toast.Style.Animated,"Downloading and setting wallpaper..."),{applyTo:i}=(0,G.getPreferenceValues)(),a=G.environment.supportPath,s=a.endsWith("/")?`${a}${e}.png`:`${a}/${e}.png`;try{let l=s,c=St.default.existsSync(l)?"":`set cmd to "curl -o " & q_temp_folder & " " & "${t}"
        do shell script cmd`;if(await Vo(`
      set temp_folder to (POSIX path of "${l}")
      set q_temp_folder to quoted form of temp_folder

      ${c}

      set x to alias (POSIX file temp_folder)

      try
        tell application "System Events"
          tell ${i} desktop
            set picture to (x as text)
            return "ok"
          end tell
        end tell
      on error
        set dialogTitle to "Error Setting Wallpaper"
        set dialogText to "Please make sure you have given Raycast the required permission. To make sure, click the button below and grant Raycast the 'System Events' permission."

        display alert dialogTitle message dialogText buttons {"Cancel", "Open Preferences"} default button 2 as informational
          if button returned of result is "Open Preferences" then
            do shell script "open 'x-apple.systempreferences:com.apple.preference.security?Privacy_Automation'"
          end if

        return "error"
      end try
    `)!=="ok")throw new Error("Error setting wallpaper.");n&&(n.style=G.Toast.Style.Success,n.title="Set wallpaper successfully!"),St.default.removeSync(l)}catch(l){console.error(l),n&&(n.style=G.Toast.Style.Failure,n.title="Something went wrong.",n.message="Try with another image or check your internet connection.")}};var tb=async e=>{let{applyTo:t}=(0,G.getPreferenceValues)();return await Vo(`
      set temp_folder to (POSIX path of "${e}")
      set q_temp_folder to quoted form of temp_folder
 

      set x to alias (POSIX file temp_folder)

      try
        tell application "System Events"
          tell ${t} desktop
            set picture to (x as text)
            return "ok"
          end tell
        end tell
      on error
        set dialogTitle to "Error Setting Wallpaper"
        set dialogText to "Please make sure you have given Raycast the required permission. To make sure, click the button below and grant Raycast the 'System Events' permission."

        display alert dialogTitle message dialogText buttons {"Cancel", "Open Preferences"} default button 2 as informational
          if button returned of result is "Open Preferences" then
            do shell script "open 'x-apple.systempreferences:com.apple.preference.security?Privacy_Automation'"
          end if

        return "error"
      end try
    `)},Kr=async e=>{let t=await(0,G.showToast)(G.Toast.Style.Animated,"Setting wallpaper...");try{if(await tb(e)!=="ok")throw new Error("Error setting wallpaper.");t&&(t.style=G.Toast.Style.Success,t.title="Set wallpaper successfully!")}catch(n){console.error(n),t&&(t.style=G.Toast.Style.Failure,t.title="Something went wrong.",t.message="Try with another image or check your internet connection.")}};async function wi(e,t){await(0,G.showToast)(G.Toast.Style.Animated,"Downloading..."),dt(Se(t.url,e)).then(function(n){return n.arrayBuffer()}).then(function(n){let i=`${Qo()}/${xe(t.url)}-${t.startdate}.png`;St.default.writeFile(i,Buffer.from(n),async a=>{if(a!=null)await(0,G.showToast)(G.Toast.Style.Failure,String(a));else{let s={style:G.Toast.Style.Success,title:"Download picture success!",message:`${i.replace(`${(0,Si.homedir)()}`,"~")}`,primaryAction:{title:"Open picture",onAction:l=>{(0,G.open)(i),l.hide()}},secondaryAction:{title:"Show in finder",onAction:l=>{(0,G.showInFinder)(i),l.hide()}}};await(0,G.showToast)(s)}})})}async function $f(e,t){t.forEach(n=>{let i=`${Qo()}/${xe(n.url)}-${n.startdate}.png`;St.default.existsSync(i)||dt(Se(n.url,e)).then(function(a){return a.arrayBuffer()}).then(function(a){St.default.writeFile(i,Buffer.from(a),async s=>{s!=null&&console.error(String(s))})})})}function Mf(){let e=Qo(),t=St.default.readdirSync(e),n=[];return t.forEach(i=>{Nf.includes((0,Yo.parse)(i).ext)&&!i.startsWith(".")&&n.push({name:(0,Yo.parse)(i).name,path:e+"/"+i})}),n}var zf=e=>{let[t,n]=(0,Ue.useState)([]),[i,a]=(0,Ue.useState)([]),[s,l]=(0,Ue.useState)(!0),c=(0,Ue.useCallback)(async()=>{try{dt(co(0,8)).then(d=>d.json()).then(d=>{dt(co(8,8)).then(y=>y.json()).then(y=>{y.images.shift();let p=d.images.concat(y.images);n(p),e&&a(Mf()),l(!1)})})}catch(d){if(d instanceof Kt)return;await(0,cr.showToast)(cr.Toast.Style.Failure,String(d))}},[]);return(0,Ue.useEffect)(()=>{c()},[c]),{bingWallpaperHD:t,downloadedBingWallpapers:i,isLoading:s}},jf=e=>{let{autoDownload:t,downloadSize:n}=(0,cr.getPreferenceValues)(),i=(0,Ue.useCallback)(async()=>{try{t&&await $f(n,e)}catch(a){console.error(String(a))}},[e]);(0,Ue.useEffect)(()=>{i()},[i])};var He=require("@raycast/api"),Vf=require("react");var Wt=require("@raycast/api");var wt=require("@raycast/api"),Uf=require("react/jsx-runtime");function tt(){return(0,Uf.jsx)(wt.ActionPanel.Section,{children:(0,Uf.jsx)(wt.Action,{icon:wt.Icon.Gear,title:"Open Extension Preferences",shortcut:{modifiers:["cmd"],key:","},onAction:wt.openExtensionPreferences})})}var fr=require("react/jsx-runtime");function _i(e){let{layout:t}=e;return t==="List"?(0,fr.jsx)(Wt.List.EmptyView,{icon:{source:{light:"empty-view-icon.png",dark:"empty-view-icon@dark.png"}},title:"No wallpapers",description:"",actions:(0,fr.jsx)(Wt.ActionPanel,{children:(0,fr.jsx)(tt,{})})}):(0,fr.jsx)(Wt.Grid.EmptyView,{icon:{source:{light:"empty-view-icon.png",dark:"empty-view-icon@dark.png"}},title:"No wallpapers",description:"",actions:(0,fr.jsx)(Wt.ActionPanel,{children:(0,fr.jsx)(tt,{})})})}var Q=require("@raycast/api");var te=require("@raycast/api"),Hf=require("react");var Gf=Ae(require("path"),1);function Jr(e,t={}){if(typeof e!="string")throw new TypeError(`Expected a string, got ${typeof e}`);let{resolve:n=!0}=t,i=e;return n&&(i=Gf.default.resolve(e)),i=i.replace(/\\/g,"/"),i[0]!=="/"&&(i=`/${i}`),encodeURI(`file://${i}`).replace(/[?#]/g,encodeURIComponent)}var rt=require("react/jsx-runtime");function Zr(e){let{downloadSize:t}=(0,te.getPreferenceValues)(),{isOnline:n,index:i,onlineImages:a,downloadedImage:s}=e,l=a.length+s.length,[c,d]=(0,Hf.useState)({index:n?i:i+a.length,isOnline:n});return(0,rt.jsx)(te.Detail,{navigationTitle:c.isOnline?a[c.index].title:s[c.index-a.length].name,markdown:`<img src="${c.isOnline?Se(a[c.index].url,"icon",960,540):Jr(s[c.index-a.length].path)}" alt="" height="400" />`,actions:(0,rt.jsxs)(te.ActionPanel,{children:[(0,rt.jsx)(te.Action,{icon:te.Icon.ChevronDown,title:"Next",shortcut:{modifiers:["cmd"],key:"pageDown"},onAction:()=>{c.index!==l-1&&d({index:c.index+1,isOnline:c.index+1<a.length})}}),(0,rt.jsx)(te.Action,{icon:te.Icon.ChevronUp,title:"Previous",shortcut:{modifiers:["cmd"],key:"pageUp"},onAction:()=>{c.index!==0&&d({index:c.index-1,isOnline:c.index-1<a.length})}}),(0,rt.jsx)(te.Action,{icon:te.Icon.Desktop,title:"Set Desktop Wallpaper",shortcut:{modifiers:["cmd"],key:"s"},onAction:()=>{c.isOnline?Xr(xe(a[c.index].url),Se(a[c.index].url,"raw")).then(()=>""):Kr(s[c.index-a.length].path).then(()=>"")}}),c.isOnline&&(0,rt.jsx)(te.Action,{icon:te.Icon.Download,title:"Download Wallpaper",shortcut:{modifiers:["cmd"],key:"d"},onAction:async()=>{await wi(t,a[c.index])}}),(0,rt.jsx)(te.Action,{icon:te.Icon.Circle,title:"Back",shortcut:{modifiers:["cmd"],key:"y"},onAction:(0,te.useNavigation)().pop}),(0,rt.jsx)(tt,{})]})})}var Le=require("react/jsx-runtime");function Ei(e){let{index:t,bingImage:n,downloadSize:i,onlineImages:a,downloadedImages:s}=e;return(0,Le.jsxs)(Q.ActionPanel,{children:[(0,Le.jsx)(Q.Action,{icon:Q.Icon.Desktop,title:"Set Desktop Wallpaper",onAction:()=>{Xr(xe(n.url)+"-"+n.startdate,Se(n.url,"raw")).then(()=>"")}}),(0,Le.jsx)(Q.Action,{icon:Q.Icon.Download,title:"Download Wallpaper",onAction:async()=>{await wi(i,n)}}),(0,Le.jsx)(Q.Action.Push,{icon:Q.Icon.Sidebar,title:"Preview Wallpaper",shortcut:{modifiers:["cmd"],key:"y"},target:(0,Le.jsx)(Zr,{isOnline:!0,index:t,onlineImages:a,downloadedImage:s})}),(0,Le.jsxs)(Q.ActionPanel.Section,{children:[(0,Le.jsx)(Q.Action,{icon:Q.Icon.TwoArrowsClockwise,title:"Set Random Wallpaper",shortcut:{modifiers:["cmd"],key:"r"},onAction:()=>{let l=a[Math.floor(Math.random()*a.length)];Xr(xe(l.url)+"-"+l.startdate,Se(l.url,"raw")).then(()=>"")}}),(0,Le.jsx)(Q.Action,{icon:Q.Icon.MagnifyingGlass,title:"Search Wallpaper",shortcut:{modifiers:["shift","cmd"],key:"s"},onAction:async()=>{await(0,Q.open)(js(n.copyrightlink)),await(0,Q.showHUD)("Search picture in browser")}}),(0,Le.jsx)(Q.Action,{icon:Q.Icon.Globe,title:"More Bing Wallpaper",shortcut:{modifiers:["shift","cmd"],key:"m"},onAction:async()=>{await(0,Q.open)("https://github.com/niumoo/bing-wallpaper"),await(0,Q.showHUD)("Get more bing wallpaper")}})]}),(0,Le.jsx)(tt,{})]})}var oe=require("@raycast/api");var Ge=require("react/jsx-runtime");function Ri(e){let{index:t,bingImage:n,onlineImages:i,downloadedImages:a}=e;return(0,Ge.jsxs)(oe.ActionPanel,{children:[(0,Ge.jsx)(oe.Action,{icon:oe.Icon.Desktop,title:"Set Desktop Wallpaper",onAction:()=>{Kr(n.path).then(()=>"")}}),(0,Ge.jsx)(oe.Action.ShowInFinder,{path:n.path}),(0,Ge.jsx)(oe.Action.Push,{icon:oe.Icon.Sidebar,title:"Preview Wallpaper",shortcut:{modifiers:["cmd"],key:"y"},target:(0,Ge.jsx)(Zr,{isOnline:!1,index:t,onlineImages:i,downloadedImage:a})}),(0,Ge.jsxs)(oe.ActionPanel.Section,{children:[(0,Ge.jsx)(oe.Action,{icon:oe.Icon.ArrowClockwise,title:"Set Random Wallpaper",shortcut:{modifiers:["cmd"],key:"r"},onAction:()=>{let s=a[Math.floor(Math.random()*a.length)];Kr(s.path).then(()=>"")}}),(0,Ge.jsx)(oe.Action,{icon:oe.Icon.Globe,title:"More Bing Wallpaper",shortcut:{modifiers:["shift","cmd"],key:"m"},onAction:async()=>{await(0,oe.open)("https://github.com/niumoo/bing-wallpaper"),await(0,oe.showHUD)("Get more bing wallpaper")}})]}),(0,Ge.jsx)(tt,{})]})}var ve=require("react/jsx-runtime");function Yf(e){let[t,n]=(0,Vf.useState)(""),{preferences:i,isLoading:a,bingWallpaperHD:s,downloadedBingWallpapers:l}=e;return(0,ve.jsxs)(He.List,{isShowingDetail:s.length!==0&&!a,isLoading:a,searchBarPlaceholder:"Search wallpapers",searchBarAccessory:i.includeDownloadedWallpapers?(0,ve.jsx)(He.List.Dropdown,{onChange:n,tooltip:"Wallpaper type",storeValue:!0,children:bi.map((c,d)=>(0,ve.jsx)(He.List.Dropdown.Item,{title:c[1],value:c[1]},d+"_"+c[0]))}):null,children:[(0,ve.jsx)(_i,{layout:i.layout}),(t==="All"||t==="Online"||t==="")&&(0,ve.jsx)(He.List.Section,{title:"Online Wallpapers",children:s.map((c,d)=>(0,ve.jsx)(He.List.Item,{id:d+c.url,icon:{source:Se(c.url,"icon",64,36)},title:xe(c.url),detail:(0,ve.jsx)(He.List.Item.Detail,{isLoading:!1,markdown:`![](${Se(c.url,"icon",960,540)})
                    
## ${c.title}

${c.copyright}`}),actions:(0,ve.jsx)(Ei,{index:d,bingImage:c,downloadedImages:l,onlineImages:s,downloadSize:i.downloadSize})},d+c.startdate))}),i.includeDownloadedWallpapers&&(t==="All"||t==="Downloaded")&&(0,ve.jsx)(He.List.Section,{title:"Downloaded Wallpapers",children:l?.map((c,d)=>(0,ve.jsx)(He.List.Item,{id:d+c.name,icon:{source:c.path},title:c.name,detail:(0,ve.jsx)(He.List.Item.Detail,{isLoading:!1,markdown:`<img src="${Jr(c.path)}" alt="${c.name}" height="270" />`}),actions:(0,ve.jsx)(Ri,{index:d,bingImage:c,onlineImages:s,downloadedImages:l})},d+c.name))})]})}var nt=require("@raycast/api"),Qf=require("react");var Ne=require("react/jsx-runtime");function Xf(e){let[t,n]=(0,Qf.useState)(""),{preferences:i,isLoading:a,bingWallpaperHD:s,downloadedBingWallpapers:l}=e;return(0,Ne.jsxs)(nt.Grid,{isLoading:a,columns:parseInt(i.columns),aspectRatio:"16/9",fit:nt.Grid.Fit.Fill,searchBarPlaceholder:"Search wallpapers",searchBarAccessory:i.includeDownloadedWallpapers?(0,Ne.jsx)(nt.Grid.Dropdown,{onChange:n,tooltip:"Wallpaper type",storeValue:!0,children:bi.map((c,d)=>(0,Ne.jsx)(nt.Grid.Dropdown.Item,{title:c[1],value:c[1]},d+"_"+c[0]))}):null,children:[(0,Ne.jsx)(_i,{layout:i.layout}),(t==="All"||t==="Online"||t==="")&&(0,Ne.jsx)(nt.Grid.Section,{title:"Online Wallpapers",children:s.map((c,d)=>(0,Ne.jsx)(nt.Grid.Item,{id:d+c.url,content:{value:Se(c.url,"icon",960,540),tooltip:c.title+`
`+c.copyright},title:xe(c.url),actions:(0,Ne.jsx)(Ei,{index:d,bingImage:c,onlineImages:s,downloadedImages:l,downloadSize:i.downloadSize})},d+c.startdate))}),i.includeDownloadedWallpapers&&(t==="All"||t==="Downloaded")&&(0,Ne.jsx)(nt.Grid.Section,{title:"Downloaded Wallpapers",children:l?.map((c,d)=>(0,Ne.jsx)(nt.Grid.Item,{id:d+c.name,content:{source:c.path},title:c.name,actions:(0,Ne.jsx)(Ri,{index:d,bingImage:c,onlineImages:s,downloadedImages:l})},d+c.name))})]})}var Kf=require("react/jsx-runtime");function Zf(){let e=(0,Jf.getPreferenceValues)(),{bingWallpaperHD:t,downloadedBingWallpapers:n,isLoading:i}=zf(e.includeDownloadedWallpapers);return jf(t),e.layout==="List"?(0,Kf.jsx)(Yf,{preferences:e,isLoading:i,bingWallpaperHD:t,downloadedBingWallpapers:n}):(0,Kf.jsx)(Xf,{preferences:e,isLoading:i,bingWallpaperHD:t,downloadedBingWallpapers:n})}0&&(module.exports={});
/*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
/*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
/*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
